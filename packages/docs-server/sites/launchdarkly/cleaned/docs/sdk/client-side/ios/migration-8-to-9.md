`/`
[Product docs](/docs/home)[Guides](/docs/guides)[SDKs](/docs/sdk)[Integrations](/docs/integrations)[API docs](/docs/api)[Tutorials](/docs/tutorials)[Flagship Blog](/docs/blog)
 * [SDKs](/docs/sdk)
 * [SDK concepts](/docs/sdk/concepts)
 * [SDK features](/docs/sdk/features)
 * [Client-side SDKs](/docs/sdk/client-side)
 * [Server-side SDKs](/docs/sdk/server-side)
 * [AI SDKs](/docs/sdk/ai)
 * [Edge SDKs](/docs/sdk/edge)
 * [OpenFeature providers](/docs/sdk/openfeature)
 * [Observability SDKs](/docs/sdk/observability)
 * [Relay Proxy](/docs/sdk/relay-proxy)
[Sign in](/)[Sign up](https://app.launchdarkly.com/signup)
On this page
 * [Overview](#overview)
 * [Understanding changes to configuration options](#understanding-changes-to-configuration-options)
 * [Understanding the automatically added environment attributes](#understanding-the-automatically-added-environment-attributes)
 * [Automatic environment attributes and application metadata configuration](#automatic-environment-attributes-and-application-metadata-configuration)
 * [Understanding changes to application information](#understanding-changes-to-application-information)
 * [Understanding what was removed](#understanding-what-was-removed)
## Overview
This topic explains the changes in the iOS 9.0 release and how to migrate to that version.
**Version 9.0 includes breaking changes**. It removes the deprecated `LDUser`. To learn more, read [Understanding what was removed](/docs/sdk/client-side/ios/migration-8-to-9#understanding-what-was-removed).
Version 9 also introduces the ability to have LaunchDarkly automatically provide data about the mobile environment where the application is running. This data makes it simpler to target your mobile customers based on application name or version, or on device characteristics including manufacturer, model, operating system, and so on.
When you configure the SDK, starting in version 9.0 you must indicate whether LaunchDarkly should or should not include this data.
This data is provided in two new context kinds. The data is added automatically to each evaluation context you provide.
Customers who are billed by MAU may be charged based on the `ld_device` context kind if it becomes the context kind with the highest volume of monthly activity in their account. This feature does not affect customers on other billing models. To learn more, read [Account usage metrics](/docs/home/account/metrics).
Before you migrate to version 9.0, we recommend updating to the latest 8.x version. If you update to the latest 8.x version, deprecation warnings appear in areas of your code that need to be changed for 9.0, for example, any use of `LDUser`. You can update these areas at your own pace while still using 8.x, rather than migrating everything simultaneously. To learn more about updating to the latest 8.x version, visit the [SDK’s GitHub repository](https://github.com/launchdarkly/ios-client-sdk/).
## Understanding changes to configuration options
Version 9.0 introduces a new, required configuration parameter. Use this to indicate whether LaunchDarkly should automatically provide data about the mobile environment where the application is running as part of each evaluation context. You must include this parameter when building your `LDConfig`.
Here’s how:
iOS SDK v9.0 (Swift)iOS SDK v9.0 (Objective-C)iOS SDK v8.x (Swift)iOS SDK v8.x (Objective-C)
```
1
| let config = LDConfig(mobileKey: "mobile-key-123abc", autoEnvAttributes: .enabled)
---|--- 
```
To disable this option, pass in `autoEnvAttributes: .disabled` (Swift) or `autoEnvAttributes:AutoEnvAttributesDisabled` (Objective-C) instead.
To learn more, read [`LDConfig`](https://launchdarkly.github.io/ios-client-sdk/Structs/LDConfig.html).
## Understanding the automatically added environment attributes
If you enable `autoEnvAttributes` in the SDK client configuration, the SDK automatically adds two additional contexts to each context that you evaluate. You can use attributes from these contexts in your targeting rules.
##### Working with multi-contexts
Because the SDK automatically adds contexts, every evaluation context is now a set of multiple contexts, which is called a multi-context. This means to you can create targeting rules in your feature flags based on data from multiple contexts at once. To learn more, read [Multi-contexts](/docs/home/flags/multi-contexts).
These automatically added contexts include the following attributes:
Context kind | Context attribute | Description | Example 
---|---|---|--- 
`ld_application` | `key` | Unique for this context kind. Automatically generated by the SDK. | _randomly generated_ 
| `id` | Unique identifier of the application. | `com.launchdarkly.example` 
| `locale` | Locale of the device, in [IETF BCP 47 Language Tag](https://www.ietf.org/rfc/bcp/bcp47.txt) format. | `en-US` 
| `name` | Human-friendly name of the application. | `Example Mobile App` 
| `version` | Version of the application used for update comparison. | `1.2.3` 
| `versionName` | Human-friendly name of the version. May or may not be a semantic version. | `1.2` 
| `envAttributesVersion` | Version of the environment attributes schema being used. This may change in later versions of the SDK. | `1.0` 
`ld_device` | `key` | Unique for this context kind. Automatically generated by the SDK. | _randomly generated_ 
| `manufacturer` | Manufacturer of the device. | `Apple` 
| `model` | Model of the device. | `iPhone` 
| `os` | Operating system of the device. Includes properties for `family`, `name`, and `version`. | 
 * `family`: `Apple`
 * `version`: `16.2`
 * `name`: `iOS`
| `envAttributesVersion` | Version of the environment attributes schema being used. This may change in later versions of the SDK. | `1.0` 
If the SDK cannot determine the information for a particular attribute, it will not include that attribute. For example, if the SDK cannot determine the device’s model, it will not include the `model` attribute.
### Automatic environment attributes and application metadata configuration
If you are already setting [application metadata](/docs/sdk/features/app-config) as part of your SDK configuration, you can still use this new [environment attributes](/docs/sdk/features/environment-attributes) feature. Any application metadata that you set will override the automatically collected environment attributes.
Specifically, `ld_application` context attributes are set based on the following priority order:
 1. If you set values for application id, name, version, or version name using [application metadata configuration](/docs/sdk/features/app-config) in the SDK, then the `ld_application` context will reflect those values.
 2. Otherwise, if you have set values for the application id, name, version, or version name within your mobile app, the `ld_application` context will reflect those values.
 3. Otherwise, the `ld_application` context will use the LaunchDarkly SDK name and version.
## Understanding changes to application information
In previous versions, you could use the `LDConfig` builder’s `.applicationInfo` method to set the application id and application version. Starting with version 9, you can also set the application name and version name.
Here’s how:
iOS SDK v9.0 (Swift)iOS SDK v9.0 (Objective-C)
```
1
| var applicationInfo = ApplicationInfo()
---|--- 
2
| applicationInfo.applicationIdentifier("authentication-service")
3
| applicationInfo.applicationName("Authentication-Service")
4
| applicationInfo.applicationVersion("1.0.0")
5
| applicationInfo.applicationVersionName("v1")
6
| 
7
| var config = LDConfig(mobileKey: mobileKey, autoEnvAttributes: .enabled)
8
| config.applicationInfo = applicationInfo
```
## Understanding what was removed
**Version 9.0 removes the deprecated`LDUser`**. Version 8 of the iOS SDK replaced users with contexts. Starting in version 9, the deprecated `LDUser` is removed.
Here’s how to construct a basic context, as compared with constructing a user:
iOS SDK v7.x, user with key (Swift)iOS SDK v8+, context with key (Swift)iOS SDK v7.x, user with key (Objective-C)iOS SDK v8+, context with key (Objective-C)
```
1
| var user = LDUser(key: "user-key-123abc")
---|--- 
```
To learn more about replacing users with contexts, read the iOS SDK 7.x to 8.0 migration guides for [Swift](/docs/sdk/client-side/ios/migration-7-to-8-swift) or [Objective-C](/docs/sdk/client-side/ios/migration-7-to-8-objc) and [Best practices for upgrading users to contexts](/docs/guides/flags/upgrading-contexts).
[![Logo](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/a8964c2c365fb94c416a0e31ff873d21ce0c3cbf40142e7e66cce5ae08a093af/assets/logo-dark.svg)![Logo](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/a8964c2c365fb94c416a0e31ff873d21ce0c3cbf40142e7e66cce5ae08a093af/assets/logo-dark.svg)](/docs/home)
LaunchDarkly docs
LaunchDarkly docs
LaunchDarkly docs
LaunchDarkly docs