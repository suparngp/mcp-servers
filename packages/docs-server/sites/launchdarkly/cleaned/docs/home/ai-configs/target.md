`/`
[Product docs](/docs/home)[Guides](/docs/guides)[SDKs](/docs/sdk)[Integrations](/docs/integrations)[API docs](/docs/api)[Tutorials](/docs/tutorials)[Flagship Blog](/docs/blog)
 * Getting started
 * [Overview](/docs/home)
 * [Launch Insights](/docs/home/getting-started/launch-insights)
 * [LaunchDarkly architecture](/docs/home/getting-started/architecture)
 * [LaunchDarkly vocabulary](/docs/home/getting-started/vocabulary)
 * Feature flags and AI Configs
 * [Create flags](/docs/home/flags/create)
 * [Target with flags](/docs/home/flags/target)
 * [Flag templates](/docs/home/flags/templates)
 * [Manage flags](/docs/home/flags/manage)
 * [Code references](/docs/home/flags/code-references)
 * [AI Configs](/docs/home/ai-configs)
 * [Contexts](/docs/home/flags/contexts)
 * [Segments](/docs/home/flags/segments)
 * Releases
 * [Releasing features with LaunchDarkly](/docs/home/releases/releasing)
 * [Release policies](/docs/home/releases/release-policies)
 * [Percentage rollouts](/docs/home/releases/percentage-rollouts)
 * [Progressive rollouts](/docs/home/releases/progressive-rollouts)
 * [Guarded rollouts](/docs/home/releases/guarded-rollouts)
 * [Feature monitoring](/docs/home/releases/feature-monitoring)
 * [Release pipelines](/docs/home/releases/release-pipelines)
 * [Engineering insights](/docs/home/releases/eng-insights)
 * [Release management tools](/docs/home/releases/release-management)
 * [Applications and app versions](/docs/home/releases/apps-and-app-versions)
 * [Change history](/docs/home/releases/change-history)
 * Observability
 * [Observability](/docs/home/observability)
 * [Session replay](/docs/home/observability/session-replay)
 * [Error monitoring](/docs/home/observability/errors)
 * [Logs](/docs/home/observability/logs)
 * [Traces](/docs/home/observability/traces)
 * [LLM observability](/docs/home/observability/llm-observability)
 * [Alerts](/docs/home/observability/alerts)
 * [Dashboards](/docs/home/observability/dashboards)
 * [Search specification](/docs/home/observability/search)
 * [Observability settings](/docs/home/observability/settings)
 * [Vega](/docs/home/observability/vega)
 * Product analytics
 * [Product analytics](/docs/home/product-analytics)
 * [Setting up product analytics](/docs/home/product-analytics/setup)
 * [Using product analytics charts](/docs/home/product-analytics/chart)
 * Experimentation
 * [Experimentation](/docs/home/experimentation)
 * [Creating experiments](/docs/home/experimentation/create)
 * [Managing experiments](/docs/home/experimentation/manage)
 * [Analyzing experiments](/docs/home/experimentation/analyze)
 * [Experimentation and metric events](/docs/home/experimentation/events)
 * [Multi-armed bandits](/docs/home/multi-armed-bandits)
 * [Holdouts](/docs/home/holdouts)
 * Metrics
 * [Metrics](/docs/home/metrics)
 * [Metric groups](/docs/home/metrics/metric-groups)
 * [Autogenerated metrics](/docs/home/metrics/autogen-metrics)
 * [Metric impact](/docs/home/metrics/metric-impact)
 * [Metric events](/docs/home/metrics/metric-events)
 * Warehouse native
 * [Warehouse native Experimentation](/docs/home/warehouse-native)
 * [Warehouse native metrics](/docs/home/warehouse-native/metrics)
 * [Creating warehouse native experiments](/docs/home/warehouse-native/creating)
 * Infrastructure
 * [Connect apps and services to LaunchDarkly](/docs/home/infrastructure/apps)
 * [LaunchDarkly in China and Pakistan](/docs/home/infrastructure/china)
 * [LaunchDarkly in the European Union (EU)](/docs/home/infrastructure/eu)
 * [LaunchDarkly in federal environments](/docs/home/infrastructure/federal)
 * [Public IP list](/docs/home/infrastructure/ip-list)
 * Your account
 * [Projects](/docs/home/account/project)
 * [Views](/docs/home/account/views)
 * [Environments](/docs/home/account/environment)
 * [Tags](/docs/home/account/tags)
 * [Teams](/docs/home/account/teams)
 * [Members](/docs/home/account/members)
 * [Roles](/docs/home/account/roles)
 * [Account security](/docs/home/account/secure)
 * [Billing and usage](/docs/home/account/billing)
 * [Changelog](/docs/home/changelog)
[Sign in](/)[Sign up](https://app.launchdarkly.com/signup)
On this page
 * [Overview](#overview)
 * [Target individuals](#target-individuals)
 * [Target segments](#target-segments)
 * [Target contexts with custom rules](#target-contexts-with-custom-rules)
 * [Set the default rule](#set-the-default-rule)
 * [Use guarded rollouts](#use-guarded-rollouts)
 * [Approvals for targeting](#approvals-for-targeting)
 * [The off variation](#the-off-variation)
## Overview
This topic explains how to use AI Config targeting to control which of your customers receive a particular variation of an AI Config, based on their context. Targeting is enabled by default for all AI Configs. You can turn targeting off to serve the off variation to all contexts.
LaunchDarkly [contexts](/docs/home/flags/contexts) are data objects that represent users, devices, organizations, and other entities that interact with your application. These data objects contain [context attributes](/docs/home/flags/context-attributes) that describe what you know about that context, such as their name, location, device type, or organization they are associated with. LaunchDarkly [AI SDKs](/docs/sdk/ai) can pass any context attributes you want to LaunchDarkly, where you can then use those attributes in AI Config targeting, as well as in the AI Config variation’s messages.
If you are familiar with LaunchDarkly’s [flag targeting](/docs/home/flags/target), this process is very similar: with AI Configs, you can target [individuals](/docs/home/ai-configs/target#target-individuals) or [segments](/docs/home/ai-configs/target#target-segments), or [target contexts with custom rules](/docs/home/ai-configs/target#target-contexts-with-custom-rules).
Additionally, every AI Config has a [default rule](/docs/home/ai-configs/target#set-the-default-rule) and an [off variation](/docs/home/ai-configs/target#the-off-variation).
Targeting rules are specific to each [environment](/docs/home/getting-started/vocabulary#environment). You can update targeting rules if your role includes the `updateAIConfigTargeting` action.
## Target individuals
You can target specific contexts based on their context key. If you are targeting more than one or two individuals, we recommend targeting a segment instead, because segments are reusable across AI Configs and flags.
To target individuals:
 1. Navigate to the **Targeting** tab for the AI Config.
 2. At the top of the tab, select the [environment](/docs/home/getting-started/vocabulary#environment) for which you want to create targeting rules. Targeting rules are specific to each environment.
 * To add targeting rules to an environment that’s not shown, click the **+** icon to add another environment to the **Targeting** tab.
 3. Click the **+** button between existing rules, and select **Target individuals**.
 * If the AI Config is off and the rules are hidden, click **View targeting rules**.
 4. In the “Individual targeting” section, search for and select the context you want to target.
 5. Alternatively, you can create a new context from the search menu. To do so:
 * Enter the new context name.
 * Click **Create new**.
 * Select a context kind from the context kind menu.
 6. Select a variation to **Serve**.
 7. To add more contexts, click **Add individual context**.
 8. Click **Review and save**.
Contexts that LaunchDarkly has evaluated within the last 30 days are indicated by a green eye icon.
## Target segments
Segments are lists of contexts that you can use to manage AI Config targeting behavior in bulk. You can target segments to release specific AI Config variations to different groups of contexts or end users at once.
We recommend using a segment when you want to target the same group of contexts in multiple AI Configs. You can target the segment in each AI Config, rather than recreating a targeting rule or set of rules for many AI Configs.
To target segments:
 1. Navigate to the **Targeting** tab for the AI Config.
 2. At the top of the tab, select the [environment](/docs/home/getting-started/vocabulary#environment) for which you want to create targeting rules. Targeting rules are specific to each environment.
 * To add targeting rules to an environment that’s not shown, click the **+** icon to add another environment to the **Targeting** tab.
 3. Click the **+** button between existing rules, and select **Target segments**.
 * If the AI Config is off and the rules are hidden, click **View targeting rules**.
 4. (Optional) Enter a name for the rule.
 5. In the **Operator** menu, select whether you want contexts in these segments or not in these segments to match the targeting rule.
 6. In the **Segments** menu, enter or select the segments you want to target.
 7. (Optional) Click the **+** to add additional clauses to your targeting rule.
 8. From the **Select…** menu, select the variation to serve, or set a percentage rollout.
 9. Click **Review and save**.
Here is an example of a targeting rule for segments:
![A targeting rule for segments.](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/2e0128d4cb555c477926baf6c4b2fb95d982a2c3bbfd9bce8b33704e6fa57a33/assets/images/auto/ai-config-targeting-segment.auto.png)
A targeting rule for segments.
To reference this rule when working with other members of your organization, click the **three-dot** overflow menu and choose **Copy link to rule**.
To learn more, read [Segments](/docs/home/flags/segments).
## Target contexts with custom rules
You can create custom targeting rules using any context kinds and any context attributes.
To create a custom targeting rule:
 1. Navigate to the **Targeting** tab for the AI Config.
 2. At the top of the tab, select the [environment](/docs/home/getting-started/vocabulary#environment) for which you want to create targeting rules. Targeting rules are specific to each environment.
 * To add targeting rules to an environment that’s not shown, click the **+** icon to add another environment to the **Targeting** tab.
 3. Click the **+** button between existing rules, and select **Build a custom rule**.
 * If the AI Config is off and the rules are hidden, click **View targeting rules**.
 4. (Optional) Enter a name for the rule.
 5. Select an option from the **Context kind** menu:
 * Choosing a specific context kind lets you target on attributes for contexts of that kind.
 * Choosing “Context kind” lets you target one or more context kinds. If you choose “Context kind,” skip to step 7.
 * Context kinds are included in this menu after either you [create them from the **Contexts** list](/docs/home/flags/context-kinds-create#create-context-kinds) or [customize an AI Config using a LaunchDarkly AI SDK](/docs/sdk/features/ai-config).
 6. In the **Attribute** menu, select one of this context’s attributes.
 7. In the **Operator** menu, select the operator for your clause.
 8. In the **Values** menu, enter one or more values to check against.
 9. (Optional) Click the **+** to add additional clauses to your targeting rule.
 10. From the **Select…** menu, select the variation to serve, or set a percentage rollout.
 11. Click **Review and save**.
If a targeting rule references any context kinds or attributes with `null` values, or that do not exist for a given context, then the AI Config skips that rule. For example, in a rule that checks “region is one of Canada,” any context whose region attribute is not set or is set to `null` does not match the rule. Similarly, in a rule that checks “region is not one of Canada,” any context whose region attribute is not set or is set to `null` does not match the rule. This behavior ensures that your rules only target contexts for which you explicitly have attribute information.
To reference this rule when working with other members of your organization, click the **three-dot** overflow menu and choose **Copy link to rule**.
To learn more about how to construct targeting rules, read [About targeting rules](/docs/home/flags/target-rules#about-targeting-rules). Although that topic applies specifically to feature flag targeting, the “About targeting rules” section discusses the components of targeting rules, including their descriptions, conditions, rollouts, attributes, and operators. These elements are common to both feature flags and AI Configs.
## Set the default rule
Each AI Config automatically includes a default rule. It describes which AI Config variation should be served to contexts that don’t match any of the previous targeting rules on the AI Config.
The default rule is different from the fallback value, which is set in your application’s code and is the value that contexts receive if your application can’t connect to LaunchDarkly. To learn more, read [Fallback value](/docs/home/getting-started/vocabulary#fallback-value).
The default rule is also different from the off variation, which is the value LaunchDarkly serves when the flag is off. To learn more, read [The off variation](/docs/home/ai-configs/target#the-off-variation), below.
To set the default rule:
 1. Navigate to the **Targeting** tab for the AI Config.
 2. At the top of the tab, select the [environment](/docs/home/getting-started/vocabulary#environment) for which you want to create targeting rules. Targeting rules are specific to each environment.
 * To add targeting rules to an environment that’s not shown, click the **+** icon to add another environment to the **Targeting** tab.
 3. Find the last rule on the **Targeting** tab, which is labeled “Default rule.”
 * If the AI Config is off and the rules are hidden, click **View targeting rules**.
 4. Click **Edit** to configure the default rule to serve a specific variation, or apply a percentage rollout to any remaining contexts.
Here is an image of a default rule:
![An AI Config's default rule.](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/a857891eb3c54434e42a02e0466e31724fb98c9542795d5526aef0361faea4d0/assets/images/auto/ai-config-default-rule.auto.png)
An AI Config's default rule.
## Use guarded rollouts
When you update which variation an AI Config serves, you can use a [guarded rollout](/docs/home/releases/guarded-rollouts) to gradually serve the new variation while monitoring key metrics for regressions.
Guarded rollouts help reduce risk when updating prompts, models, or other AI-powered behavior. If LaunchDarkly detects a regression, it can pause the release or restore the previous variation automatically. This helps you detect problems early and avoid serving broken or degraded AI responses.
To use a guarded rollout, open the **Targeting** tab, make a variation update, and select **Guarded rollout** when reviewing your changes. You can monitor release progress and metric results from the **Monitoring** tab.
## Approvals for targeting
Targeting changes to an AI Config may require approval before they can be applied. When approvals are required in an environment, the **Review and save** button changes to **Request approval**. The requested change will not take effect until a reviewer approves and applies it.
For information about configuring approvals, read [Configuring approvals for an environment](/docs/home/releases/approval-config).
## The off variation
Each AI Config has a special “disabled” variation, which is created automatically. It is served when the AI Config is toggled off.
[![Logo](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/a8964c2c365fb94c416a0e31ff873d21ce0c3cbf40142e7e66cce5ae08a093af/assets/logo-dark.svg)![Logo](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/a8964c2c365fb94c416a0e31ff873d21ce0c3cbf40142e7e66cce5ae08a093af/assets/logo-dark.svg)](/docs/home)
LaunchDarkly docs
LaunchDarkly docs
LaunchDarkly docs
LaunchDarkly docs