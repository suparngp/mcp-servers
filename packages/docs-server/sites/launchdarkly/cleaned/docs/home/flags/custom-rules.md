`/`
[Product docs](/docs/home)[Guides](/docs/guides)[SDKs](/docs/sdk)[Integrations](/docs/integrations)[API docs](/docs/api)[Tutorials](/docs/tutorials)[Flagship Blog](/docs/blog)
 * Getting started
 * [Overview](/docs/home)
 * [Launch Insights](/docs/home/getting-started/launch-insights)
 * [LaunchDarkly architecture](/docs/home/getting-started/architecture)
 * [LaunchDarkly vocabulary](/docs/home/getting-started/vocabulary)
 * Feature flags and AI Configs
 * [Create flags](/docs/home/flags/create)
 * [Target with flags](/docs/home/flags/target)
 * [Flag templates](/docs/home/flags/templates)
 * [Manage flags](/docs/home/flags/manage)
 * [Code references](/docs/home/flags/code-references)
 * [AI Configs](/docs/home/ai-configs)
 * [Contexts](/docs/home/flags/contexts)
 * [Segments](/docs/home/flags/segments)
 * Releases
 * [Releasing features with LaunchDarkly](/docs/home/releases/releasing)
 * [Release policies](/docs/home/releases/release-policies)
 * [Percentage rollouts](/docs/home/releases/percentage-rollouts)
 * [Progressive rollouts](/docs/home/releases/progressive-rollouts)
 * [Guarded rollouts](/docs/home/releases/guarded-rollouts)
 * [Feature monitoring](/docs/home/releases/feature-monitoring)
 * [Release pipelines](/docs/home/releases/release-pipelines)
 * [Engineering insights](/docs/home/releases/eng-insights)
 * [Release management tools](/docs/home/releases/release-management)
 * [Applications and app versions](/docs/home/releases/apps-and-app-versions)
 * [Change history](/docs/home/releases/change-history)
 * Observability
 * [Observability](/docs/home/observability)
 * [Session replay](/docs/home/observability/session-replay)
 * [Error monitoring](/docs/home/observability/errors)
 * [Logs](/docs/home/observability/logs)
 * [Traces](/docs/home/observability/traces)
 * [LLM observability](/docs/home/observability/llm-observability)
 * [Alerts](/docs/home/observability/alerts)
 * [Dashboards](/docs/home/observability/dashboards)
 * [Search specification](/docs/home/observability/search)
 * [Observability settings](/docs/home/observability/settings)
 * [Vega](/docs/home/observability/vega)
 * Product analytics
 * [Product analytics](/docs/home/product-analytics)
 * [Setting up product analytics](/docs/home/product-analytics/setup)
 * [Using product analytics charts](/docs/home/product-analytics/chart)
 * Experimentation
 * [Experimentation](/docs/home/experimentation)
 * [Creating experiments](/docs/home/experimentation/create)
 * [Managing experiments](/docs/home/experimentation/manage)
 * [Analyzing experiments](/docs/home/experimentation/analyze)
 * [Experimentation and metric events](/docs/home/experimentation/events)
 * [Multi-armed bandits](/docs/home/multi-armed-bandits)
 * [Holdouts](/docs/home/holdouts)
 * Metrics
 * [Metrics](/docs/home/metrics)
 * [Metric groups](/docs/home/metrics/metric-groups)
 * [Autogenerated metrics](/docs/home/metrics/autogen-metrics)
 * [Metric impact](/docs/home/metrics/metric-impact)
 * [Metric events](/docs/home/metrics/metric-events)
 * Warehouse native
 * [Warehouse native Experimentation](/docs/home/warehouse-native)
 * [Warehouse native metrics](/docs/home/warehouse-native/metrics)
 * [Creating warehouse native experiments](/docs/home/warehouse-native/creating)
 * Infrastructure
 * [Connect apps and services to LaunchDarkly](/docs/home/infrastructure/apps)
 * [LaunchDarkly in China and Pakistan](/docs/home/infrastructure/china)
 * [LaunchDarkly in the European Union (EU)](/docs/home/infrastructure/eu)
 * [LaunchDarkly in federal environments](/docs/home/infrastructure/federal)
 * [Public IP list](/docs/home/infrastructure/ip-list)
 * Your account
 * [Projects](/docs/home/account/project)
 * [Views](/docs/home/account/views)
 * [Environments](/docs/home/account/environment)
 * [Tags](/docs/home/account/tags)
 * [Teams](/docs/home/account/teams)
 * [Members](/docs/home/account/members)
 * [Roles](/docs/home/account/roles)
 * [Account security](/docs/home/account/secure)
 * [Billing and usage](/docs/home/account/billing)
 * [Changelog](/docs/home/changelog)
[Sign in](/)[Sign up](https://app.launchdarkly.com/signup)
On this page
 * [Overview](#overview)
 * [Target contexts with custom rules](#target-contexts-with-custom-rules)
 * [Multiple conditions and values](#multiple-conditions-and-values)
## Overview
This topic explains how to use custom rules to target contexts based on their attributes.
## Target contexts with custom rules
You can create custom targeting rules using any context kinds and any context attributes.
To create a custom targeting rule:
 1. In the flags dashboard, scroll or search to find the flag you want.
 2. Click the flag’s name to open the flag’s **Targeting** tab.
 * If the flag is off and the rules are hidden, click **View targeting rules**.
 3. Click the **+** button between existing rules, and select “Build a custom rule”:
![The "+" menu, with targeting options.](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/5f65225a1a75168ee3edf3555b1b04c3d33e4ca5da9c43477f690ba4144754a9/assets/images/auto/targeting-tab-add-rule.auto.png)
The "+" menu, with targeting options.
 1. (Optional) Enter a name for the rule.
 2. Select an option from the **Context kind** menu:
 * Choosing a specific context kind lets you target on attributes for contexts of that kind.
 * Choosing “Context kind” lets you target one or more context kinds. If you choose “Context kind,” skip to step 5.
 * Context kinds are included in this menu after either you [create them from the **Contexts** list](/docs/home/flags/context-kinds-create#create-context-kinds) or [evaluate a context using a LaunchDarkly SDK](/docs/sdk/features/context-config).
 1. In the **Attribute** menu, select one of this context’s attributes.
 2. In the **Operator** menu, select the operator for your clause.
 3. In the **Values** menu, enter one or more values to check against.
 4. (Optional) Click the **+** to add additional clauses to your targeting rule.
 5. From the **Select…** menu, select either the variation to serve, a manual [percentage rollout](/docs/home/releases/percentage-rollouts), a [progressive rollout](/docs/home/releases/progressive-rollouts), or a [guarded rollout](/docs/home/releases/guarded-rollouts).
 6. Click **Review and save**.
##### Custom targeting rules can include mobile application data
If you are using a mobile SDK that supports [environment attributes](/docs/sdk/features/environment-attributes), you can target your mobile applications based on details about your application, application version, and device using a [mobile targeting rule](/docs/home/flags/mobile-targeting). To create custom targeting rules using this same context information, use the `ld_application` and `ld_device` context kinds.
If you are using other mobile SDKs, you can target your mobile applications using any context attributes that you have created.
If a targeting rule references any context kinds or attributes with `null` values, or that do not exist for a given context, then the flag skips that rule. For example, in a rule that checks “region is one of Canada,” any context whose region attribute is not set or is set to `null` does not match the rule. Similarly, in a rule that checks “region is not one of Canada,” any context whose region attribute is not set or is set to `null` does not match the rule. This behavior ensures that your rules only target contexts for which you explicitly have attribute information.
### Multiple conditions and values
You can add multiple conditions to a rule. Here is how rules handle multiple conditions and values:
 * Contexts must meet _all_ the conditions in a rule to match the rule. If any of the conditions are not met, the context will not match the rule.
 * If a condition has multiple values, LaunchDarkly considers the condition met if there is a match on _any_ of the values.
 * If an attribute has an array value, LaunchDarkly treats it as multiple values and allows any of the values within the array to match a rule.
To reference this rule when working with other members of your organization, click the **three-dot** overflow menu and choose **Copy link to rule**.
![](https://fern-image-hosting.s3.us-east-1.amazonaws.com/launchdarkly/openapi-logo.svg)
You can also use the REST API: [Update feature flag](/docs/api/feature-flags/patch-feature-flag)
[![Logo](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/a8964c2c365fb94c416a0e31ff873d21ce0c3cbf40142e7e66cce5ae08a093af/assets/logo-dark.svg)![Logo](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/a8964c2c365fb94c416a0e31ff873d21ce0c3cbf40142e7e66cce5ae08a093af/assets/logo-dark.svg)](/docs/home)
LaunchDarkly docs
LaunchDarkly docs
LaunchDarkly docs
LaunchDarkly docs