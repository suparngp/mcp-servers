`/`
[Product docs](/docs/home)[Guides](/docs/guides)[SDKs](/docs/sdk)[Integrations](/docs/integrations)[API docs](/docs/api)[Tutorials](/docs/tutorials)[Flagship Blog](/docs/blog)
 * Getting started
 * [Overview](/docs/home)
 * [Launch Insights](/docs/home/getting-started/launch-insights)
 * [LaunchDarkly architecture](/docs/home/getting-started/architecture)
 * [LaunchDarkly vocabulary](/docs/home/getting-started/vocabulary)
 * Feature flags and AI Configs
 * [Create flags](/docs/home/flags/create)
 * [Target with flags](/docs/home/flags/target)
 * [Flag templates](/docs/home/flags/templates)
 * [Manage flags](/docs/home/flags/manage)
 * [Code references](/docs/home/flags/code-references)
 * [AI Configs](/docs/home/ai-configs)
 * [Contexts](/docs/home/flags/contexts)
 * [Segments](/docs/home/flags/segments)
 * Releases
 * [Releasing features with LaunchDarkly](/docs/home/releases/releasing)
 * [Release policies](/docs/home/releases/release-policies)
 * [Percentage rollouts](/docs/home/releases/percentage-rollouts)
 * [Progressive rollouts](/docs/home/releases/progressive-rollouts)
 * [Guarded rollouts](/docs/home/releases/guarded-rollouts)
 * [Feature monitoring](/docs/home/releases/feature-monitoring)
 * [Release pipelines](/docs/home/releases/release-pipelines)
 * [Engineering insights](/docs/home/releases/eng-insights)
 * [Release management tools](/docs/home/releases/release-management)
 * [Applications and app versions](/docs/home/releases/apps-and-app-versions)
 * [Change history](/docs/home/releases/change-history)
 * Observability
 * [Observability](/docs/home/observability)
 * [Session replay](/docs/home/observability/session-replay)
 * [Error monitoring](/docs/home/observability/errors)
 * [Logs](/docs/home/observability/logs)
 * [Traces](/docs/home/observability/traces)
 * [LLM observability](/docs/home/observability/llm-observability)
 * [Alerts](/docs/home/observability/alerts)
 * [Dashboards](/docs/home/observability/dashboards)
 * [Search specification](/docs/home/observability/search)
 * [Observability settings](/docs/home/observability/settings)
 * [Vega](/docs/home/observability/vega)
 * Product analytics
 * [Product analytics](/docs/home/product-analytics)
 * [Setting up product analytics](/docs/home/product-analytics/setup)
 * [Using product analytics charts](/docs/home/product-analytics/chart)
 * Experimentation
 * [Experimentation](/docs/home/experimentation)
 * [Creating experiments](/docs/home/experimentation/create)
 * [Managing experiments](/docs/home/experimentation/manage)
 * [Analyzing experiments](/docs/home/experimentation/analyze)
 * [Experimentation and metric events](/docs/home/experimentation/events)
 * [Multi-armed bandits](/docs/home/multi-armed-bandits)
 * [Holdouts](/docs/home/holdouts)
 * Metrics
 * [Metrics](/docs/home/metrics)
 * [Metric groups](/docs/home/metrics/metric-groups)
 * [Autogenerated metrics](/docs/home/metrics/autogen-metrics)
 * [Metric impact](/docs/home/metrics/metric-impact)
 * [Metric events](/docs/home/metrics/metric-events)
 * Warehouse native
 * [Warehouse native Experimentation](/docs/home/warehouse-native)
 * [Warehouse native metrics](/docs/home/warehouse-native/metrics)
 * [Creating warehouse native experiments](/docs/home/warehouse-native/creating)
 * Infrastructure
 * [Connect apps and services to LaunchDarkly](/docs/home/infrastructure/apps)
 * [LaunchDarkly in China and Pakistan](/docs/home/infrastructure/china)
 * [LaunchDarkly in the European Union (EU)](/docs/home/infrastructure/eu)
 * [LaunchDarkly in federal environments](/docs/home/infrastructure/federal)
 * [Public IP list](/docs/home/infrastructure/ip-list)
 * Your account
 * [Projects](/docs/home/account/project)
 * [Views](/docs/home/account/views)
 * [Environments](/docs/home/account/environment)
 * [Tags](/docs/home/account/tags)
 * [Teams](/docs/home/account/teams)
 * [Members](/docs/home/account/members)
 * [Roles](/docs/home/account/roles)
 * [Account security](/docs/home/account/secure)
 * [Billing and usage](/docs/home/account/billing)
 * [Changelog](/docs/home/changelog)
[Sign in](/)[Sign up](https://app.launchdarkly.com/signup)
On this page
 * [Overview](#overview)
 * [Integrate ld-find-code-refs with your toolchain](#integrate-ld-find-code-refs-with-your-toolchain)
 * [Prerequisites](#prerequisites)
 * [View code references for flags](#view-code-references-for-flags)
 * [About extinction events](#about-extinction-events)
 * [Code references in federal environments](#code-references-in-federal-environments)
 * [Manage code references](#manage-code-references)
 * [Configure context lines](#configure-context-lines)
 * [Send metadata only](#send-metadata-only)
 * [Find flag aliases](#find-flag-aliases)
 * [Using ld-find-code-refs with a monorepo](#using-ld-find-code-refs-with-a-monorepo)
 * [Limitations](#limitations)
 * [Using ld-find-code-refs with the React Web SDK](#using-ld-find-code-refs-with-the-react-web-sdk)
##### Code references are available to customers on select plans
Code references are only available to customers on select plans. To learn more, [read about our pricing](https://launchdarkly.com/pricing/). To upgrade your plan, [contact Sales](https://launchdarkly.com/contact-sales/).
## Overview
This topic explains how to use code references in LaunchDarkly to find and manage references to your feature flags.
The code references feature makes it easy to determine which projects reference your feature flags, and simplifies removal of technical debt.
LaunchDarkly uses an open-source utility called [`ld-find-code-refs`](https://github.com/launchdarkly/ld-find-code-refs/) that scans your code and pushes code reference information to LaunchDarkly. You can integrate this utility into your CI/CD process, or use other trigger mechanisms like [GitHub code references](/docs/home/flags/code-references/github-actions), `cron` jobs, or commit-triggered Lambda functions.
Extinction events and archive checks use code reference data to confirm when a flag is ready for code removal. Stale flag detection is separate and does not use archive checks.
## Integrate ld-find-code-refs with your toolchain
LaunchDarkly services do not need direct access to your source code to use code references. The `ld-find-code-refs` utility is agnostic to where your code is hosted. You can push references to LaunchDarkly whether you’re using GitHub, GitHub Enterprise, Bitbucket, Bitbucket Enterprise, GitLab, Azure DevOps, or any other Git code hosting tool.
If your workflow does not have a direct integration, you can use an `ld-find-code-refs` [Docker container](https://hub.docker.com/r/launchdarkly/ld-find-code-refs) on Docker Hub.
LaunchDarkly offers built-in configurations for common trigger mechanisms and CI/CD providers, including:
 * [Bitbucket code references](/docs/home/flags/code-references/bitbucket)
 * [CircleCI code references](/docs/home/flags/code-references/circleci)
 * [Custom configuration with ld-find-code-refs](/docs/home/flags/code-references/custom-config)
 * [GitHub code references](/docs/home/flags/code-references/github-actions)
 * [GitLab code references](/docs/home/flags/code-references/gitlab)
You can also invoke the [`ld-find-code-refs`](https://github.com/launchdarkly/ld-find-code-refs/) utility from the [command line](/docs/home/flags/code-references/custom-config). Run this utility in any custom workflow, such as a bash script or `cron` job.
LaunchDarkly transmits code references-related information through LaunchDarkly’s REST API, which uses the HTTPS protocol with a minimum TLS version of 1.2. LaunchDarkly encrypts data at rest using AWS encryption features based on their Key Management Service. LaunchDarkly uses strong forms of cryptography like AES256-GCM with access-controlled keys that are regularly audited and rotated.
## Prerequisites
To set up code references in LaunchDarkly, you must have the following prerequisites:
 * You must have an API access token with write permissions for the `code-reference-repository` resource, either through a base role, a LaunchDarkly-provided project role, or another role that you have created. Create an API access token on the **Authorization** page. We recommend using a service token. To learn more, read [API access tokens](/docs/home/account/api) and [Code reference actions](/docs/home/account/roles/role-actions#code-reference-actions).
 * You must have a role that allows all actions on code references, such as the LaunchDarkly Project Admin, Maintainer, or Developer project roles, or the Writer, Admin, or Owner base roles.
 * You must allow [`ld-find-code-refs`](https://github.com/launchdarkly/ld-find-code-refs/) to run in environment that has access to your source code.
##### The creator of the API access token must have an appropriate role
To create an API access token with a role that allows all actions on code references, the member creating the access token must also have a role that allows all actions on code references.
## View code references for flags
You can view existing code references for a specific feature flag from the flag’s right sidebar.
To view details for existing code references, navigate to the flag’s **Targeting** tab and click the name of the repository from the right sidebar. The **Code references** page for the flag appears.
The screenshot below shows the **Code references** page displaying an active code reference:
![The "Code references" page for a feature flag.](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/63cf303b64f7d39f099930445161a160996827f4024918f21d6137d8b84e7edf/assets/images/__LD_UI_no_test/flag-code-references.png)
The "Code references" page for a feature flag.
The **Flags** list can also show whether a flag is ready for code removal.
 1. In the **Flags** list, open the **Display** menu.
 2. Select **Archive checks**.
When archive checks are displayed, flags that pass all checks show a **Ready for code removal** indicator. Click the indicator to open the dialog and review the checks. If the checks pass, click **View code references** to review remaining references before archiving.
Archive checks confirm readiness for code removal. Staleness is determined separately, based on a flag’s age and status. To learn more, read [Flag health](/docs/home/releases/flag-health).
![](https://fern-image-hosting.s3.us-east-1.amazonaws.com/launchdarkly/openapi-logo.svg)
You can also use the REST API: [Code references](/docs/api/code-references)
### About extinction events
After you remove all code references mentioning that flag from the codebase and rerun the scanning tool, LaunchDarkly creates an extinction event. This event appears as a message on the **Code references** page for the feature flag. It indicates that all code references for the flag have been removed from the codebase as of a specified commit.
![](https://fern-image-hosting.s3.us-east-1.amazonaws.com/launchdarkly/openapi-logo.svg)
You can also use the REST API: [List extinctions](/docs/api/code-references/get-extinctions)
Here is an image of an extinction event on the **Code references** page of a feature flag:
![The "Code references" for a feature flag, with an extinction event.](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/68bedf3e6e67725f9f210396423cfb077f0399d4f1d515d5cdb3431bbd3191f7/assets/images/__LD_UI_no_test/flag-code-references-extinct.png)
The "Code references" for a feature flag, with an extinction event.
To disable extinctions, set `lookback` to `0` in the `ld-find-code-refs` configuration settings.
You can toggle a repository on or off to allow or forbid code reference triggers from pushing new data to it.
## Code references in federal environments
If you are using `ld-find-code-refs` in an environment that requires the use of FIPS 140-2 validated encryption modules, such as the [LaunchDarkly federal instance](/docs/home/infrastructure/federal), you may need to take additional steps to ensure compliance. To learn more, read [LaunchDarkly in environments requiring FIPS 140-2 validated encryption modules](/docs/home/infrastructure/fips-140-2-encryption).
## Manage code references
Manage code references on the **Integrations** page for your project. Code references are organized into repositories, which the `ld-find-code-refs` tool creates automatically.
After a repository appears on the **Integrations** page, you can either temporarily disable it, which prevents new code references from being added to LaunchDarkly, or delete all code references associated with the repository.
To disable the repository, click the toggle switch to **Off**.
To delete the repository, click **Delete**.
If you click **Delete** , LaunchDarkly purges all data associated with that repository. It will no longer have any record of the code reference or any source context lines. Deleting is permanent and cannot be undone.
##### Remove code references before you click Delete
If you want to remove a connection permanently, be sure to remove any `ld-find-code-refs` triggers from your code. If you’re not sure how or where the trigger is invoked, you can also delete the access token your trigger uses. If you delete a repository with automated code reference updates enabled, the connection is recreated the next time an automated code reference trigger executes.
## Configure context lines
The [`ld-find-code-refs`](https://github.com/launchdarkly/ld-find-code-refs/) utility sends two lines of surrounding source context to LaunchDarkly. Two lines of code appear above and two lines appear below the actual reference.
Having a few lines of context can make it easier to understand references to a feature flag. However, these lines are optional. You can disable this feature when you configure `ld-find-code-refs`.
## Send metadata only
You can disable `contextLines` as shown in [Configure context lines](/docs/home/flags/code-references#configure-context-lines). When you disable `contextLines` no snippets of code leave your repository. All code scanning always happens within infrastructure your team manages as outlined in [Integrate ld-find-code-refs with your toolchain](/docs/home/flags/code-references#integrate-ld-find-code-refs-with-your-toolchain)
Metadata sent to LaunchDarkly:
 * Organization name, if applicable
 * Repository name
 * Commit ID
 * Synced time
 * File name
 * Line number
Metadata sent to LaunchDarkly if [`extinctions`](/docs/home/flags/code-references#about-extinction-events) are enabled and an extinction is found:
 * All of the metadata listed in the section above
 * Commit message when extinction was recorded
[`ld-find-code-refs`](https://github.com/launchdarkly/ld-find-code-refs/) is open source and available for review. Code reference give your team additional insights, such as surfacing flag usage in the codebase to provide additional safety checks when archiving flags, during the lifecycle of the flag while still maintaining a secure SDLC.
## Find flag aliases
Aliases help you find indirect references to feature flags, such as flag keys stored in variables or in wrapped SDK code.
Here’s how to find references to `firstFeatureFlag` throughout your codebase:
Example flag variable
```
var firstFeatureFlag = 'first-flag-key-123abc' 
--- 
```
coderefs.yaml
```
1
| aliases:
---|--- 
2
| - type: camelcase
```
This identifies all references to `firstFeatureFlag` in your codebase.
To learn more about aliases, read the [aliases documentation](https://github.com/launchdarkly/ld-find-code-refs/blob/main/docs/ALIASES.md).
## Using ld-find-code-refs with a monorepo
`ld-find-code-refs` version 2.5.0+ provides support for monorepos. This means a single scan of code references can find feature flags and aliases from multiple LaunchDarkly projects stored in the same repository. You can specify an optional starting subdirectory for each project, which limits your scan to directories below the initial subdirectory only. The required top-level `dir` value should still be the overall git repository root directory.
To learn more about monorepo support, read [Projects](https://github.com/launchdarkly/ld-find-code-refs/blob/main/docs/CONFIGURATION.md#projects) in the `ld-find-code-refs` configuration documentation.
## Limitations
The LaunchDarkly code references API asserts various limits to limit the number of “false positive” code references. `ld-find-code-refs` logs warning messages if you exceed any of these limits. Above certain values, LaunchDarkly may ignore some files and references.
These limits include:
 * LaunchDarkly does not scan code references for flags with keys that have fewer than three characters.
 * LaunchDarkly stores up to 10,000 files with code references per repository. Additional files are ignored.
 * LaunchDarkly allows up to 500 characters per line of source code stored. Additional characters are truncated.
 * LaunchDarkly allows up to 25,000 code references per file. Additional references are ignored.
If you’ve encountered any of these limits, or are noticing a large number of false positives being detected by `ld-find-code-refs`, you can configure an `.ldignore` file in your repository with rules matching the files and directories you’d like to exclude.
To learn more about `.ldignore` files, read the [`ld-find-code-refs` documentation](https://github.com/launchdarkly/ld-find-code-refs/blob/main/docs/CONFIGURATION.md#ignoring-files-and-directories).
## Using ld-find-code-refs with the React Web SDK
The code references feature scans your source code for occurrences of your flag keys. This process requires your source code to reference flag keys exactly as they appear in LaunchDarkly.
However, by default, the React Web SDK changes all flag keys to camel-case for easier access with dot notation. To use the code references feature in conjunction with the React Web SDK, configure `ld-find-code-refs` to generate camel-case aliases for the flag keys, or configure the React Web SDK to disable this camel-casing feature. To learn more, read [Flag keys transposed to common casing conventions](https://github.com/launchdarkly/ld-find-code-refs/blob/main/docs/ALIASES.md#flag-keys-transposed-to-common-casing-conventions) in the `ld-find-code-refs` documentation and [Flag keys in the React Web SDK](/docs/sdk/client-side/react/react-web#flag-keys-in-the-react-web-sdk).
[![Logo](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/a8964c2c365fb94c416a0e31ff873d21ce0c3cbf40142e7e66cce5ae08a093af/assets/logo-dark.svg)![Logo](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/a8964c2c365fb94c416a0e31ff873d21ce0c3cbf40142e7e66cce5ae08a093af/assets/logo-dark.svg)](/docs/home)
LaunchDarkly docs
LaunchDarkly docs
LaunchDarkly docs
LaunchDarkly docs