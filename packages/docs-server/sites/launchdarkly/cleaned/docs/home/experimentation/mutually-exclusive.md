`/`
[Product docs](/docs/home)[Guides](/docs/guides)[SDKs](/docs/sdk)[Integrations](/docs/integrations)[API docs](/docs/api)[Tutorials](/docs/tutorials)[Flagship Blog](/docs/blog)
 * Getting started
 * [Overview](/docs/home)
 * [Launch Insights](/docs/home/getting-started/launch-insights)
 * [LaunchDarkly architecture](/docs/home/getting-started/architecture)
 * [LaunchDarkly vocabulary](/docs/home/getting-started/vocabulary)
 * Feature flags and AI Configs
 * [Create flags](/docs/home/flags/create)
 * [Target with flags](/docs/home/flags/target)
 * [Flag templates](/docs/home/flags/templates)
 * [Manage flags](/docs/home/flags/manage)
 * [Code references](/docs/home/flags/code-references)
 * [AI Configs](/docs/home/ai-configs)
 * [Contexts](/docs/home/flags/contexts)
 * [Segments](/docs/home/flags/segments)
 * Releases
 * [Releasing features with LaunchDarkly](/docs/home/releases/releasing)
 * [Release policies](/docs/home/releases/release-policies)
 * [Percentage rollouts](/docs/home/releases/percentage-rollouts)
 * [Progressive rollouts](/docs/home/releases/progressive-rollouts)
 * [Guarded rollouts](/docs/home/releases/guarded-rollouts)
 * [Feature monitoring](/docs/home/releases/feature-monitoring)
 * [Release pipelines](/docs/home/releases/release-pipelines)
 * [Engineering insights](/docs/home/releases/eng-insights)
 * [Release management tools](/docs/home/releases/release-management)
 * [Applications and app versions](/docs/home/releases/apps-and-app-versions)
 * [Change history](/docs/home/releases/change-history)
 * Observability
 * [Observability](/docs/home/observability)
 * [Session replay](/docs/home/observability/session-replay)
 * [Error monitoring](/docs/home/observability/errors)
 * [Logs](/docs/home/observability/logs)
 * [Traces](/docs/home/observability/traces)
 * [LLM observability](/docs/home/observability/llm-observability)
 * [Alerts](/docs/home/observability/alerts)
 * [Dashboards](/docs/home/observability/dashboards)
 * [Search specification](/docs/home/observability/search)
 * [Observability settings](/docs/home/observability/settings)
 * [Vega](/docs/home/observability/vega)
 * Product analytics
 * [Product analytics](/docs/home/product-analytics)
 * [Setting up product analytics](/docs/home/product-analytics/setup)
 * [Using product analytics charts](/docs/home/product-analytics/chart)
 * Experimentation
 * [Experimentation](/docs/home/experimentation)
 * [Creating experiments](/docs/home/experimentation/create)
 * [Managing experiments](/docs/home/experimentation/manage)
 * [Analyzing experiments](/docs/home/experimentation/analyze)
 * [Experimentation and metric events](/docs/home/experimentation/events)
 * [Multi-armed bandits](/docs/home/multi-armed-bandits)
 * [Holdouts](/docs/home/holdouts)
 * Metrics
 * [Metrics](/docs/home/metrics)
 * [Metric groups](/docs/home/metrics/metric-groups)
 * [Autogenerated metrics](/docs/home/metrics/autogen-metrics)
 * [Metric impact](/docs/home/metrics/metric-impact)
 * [Metric events](/docs/home/metrics/metric-events)
 * Warehouse native
 * [Warehouse native Experimentation](/docs/home/warehouse-native)
 * [Warehouse native metrics](/docs/home/warehouse-native/metrics)
 * [Creating warehouse native experiments](/docs/home/warehouse-native/creating)
 * Infrastructure
 * [Connect apps and services to LaunchDarkly](/docs/home/infrastructure/apps)
 * [LaunchDarkly in China and Pakistan](/docs/home/infrastructure/china)
 * [LaunchDarkly in the European Union (EU)](/docs/home/infrastructure/eu)
 * [LaunchDarkly in federal environments](/docs/home/infrastructure/federal)
 * [Public IP list](/docs/home/infrastructure/ip-list)
 * Your account
 * [Projects](/docs/home/account/project)
 * [Views](/docs/home/account/views)
 * [Environments](/docs/home/account/environment)
 * [Tags](/docs/home/account/tags)
 * [Teams](/docs/home/account/teams)
 * [Members](/docs/home/account/members)
 * [Roles](/docs/home/account/roles)
 * [Account security](/docs/home/account/secure)
 * [Billing and usage](/docs/home/account/billing)
 * [Changelog](/docs/home/changelog)
[Sign in](/)[Sign up](https://app.launchdarkly.com/signup)
On this page
 * [Overview](#overview)
 * [Experiment layers](#experiment-layers)
 * [Reservation amounts](#reservation-amounts)
 * [Create new layers](#create-new-layers)
 * [Add experiments to existing layers](#add-experiments-to-existing-layers)
 * [Remove experiments from layers](#remove-experiments-from-layers)
## Overview
This topic explains how to use layers to set up mutually exclusive experiments in LaunchDarkly. Mutually exclusive experiments are two or more experiments configured to prevent contexts from being included in more than one of them at a time.
Usually, it is not a problem to include a context in multiple experiments. However, there are some cases in which you may not want to include a context in more than one experiment at a time. For example, you may be concerned about collisions between experiments that are testing similar parts of your app, like two different changes to the same section of your app’s user interface (UI), or experiments running on both the back end and front end of the same functionality. In this case you can eliminate the interaction effect between experiments using layers.
##### Mutually exclusive experiments and holdouts are different
Mutually exclusive experiments and holdout experiments are similar, but are used for different reasons. Mutually exclusive experiments use layers to ensure end users are not included in two or more specific experiments at the same time. Holdout experiments withhold a set of end users from all experiments. To learn more, read [Holdouts](/docs/home/holdouts).
## Experiment layers
LaunchDarkly Experimentation achieves mutually exclusive experiments using “layers.” You can add two or more experiments to a layer to ensure that those experiments never share the same traffic.
For example, you can create a “Checkout” layer that you add all of your experiments related to the checkout process to. Then, if you run multiple experiments at once, customers are never exposed to more than one experimental variation at a time.
Here is an example of three different layers: a “Promotions” layer with three experiments, a “Product pages” layer with two experiments, and a “Checkout” layer with three experiments:
![A diagram of three different layers, with 2-3 experiments in each layer.](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/3d7191134aabc75a7633e2ff459d52b1a289649d397ec94eed3bd0a55327517d/assets/images/__not_from_LD_app_UI/layers-diagram.png)
A diagram of three different layers, with 2-3 experiments in each layer.
In the example, customer A can’t be included in more than one experiment in the “Promotions” layer, more than one experiment in the “Product pages” layer, nor more than one experiment in the “Checkout” layer. Customer A _can_ simultaneously be included in the “Promo modal,” “Personalization at quick view,” and “Checkout flow” experiments, because those experiments are all in different layers.
### Reservation amounts
Before you create an experiment, decide how much of the layer’s traffic you want to include in the experiment. This is called the “reservation amount.” The more experiments you expect to include in the layer, the lower the reservation amount be.
For example:
 * If you plan to have only two experiments in the layer, you might want to reserve 50% of traffic for each.
 * If you plan to have five experiments in the layer, you might want to reserve 20% for each.
As new contexts encounter experiments within the layer, LaunchDarkly will assign contexts based on each experiment’s reservation amount. You can change an experiment’s reservation amount on the experiment’s **Design** tab.
In the below example:
 * 25% of a layer’s contexts are reserved for a specific experiment
 * of that 25%, 21% of the audience is included in the experiment, and 4% is excluded from the experiment and served the control variation
 * of the 21% in the experiment, 7% is assigned to each variation.
Here is an illustration of the audience allocation:
![An illustration of audience allocation within an experiment in a layer.](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/acf9df5e9badb5b10386b75a15b5db7e5b4593c0fda65496a42363355f8f586d/assets/images/__not_from_LD_app_UI/layers-allocation.png)
An illustration of audience allocation within an experiment in a layer.
## Create new layers
When you create an experiment, you can either:
 * add the experiment to an existing layer, or
 * create a new layer, and add the experiment to that new layer.
##### Experiments cannot be in a holdout and in a layer at the same time
Experiments can either be in a holdout, or in a layer, but not both. If an experiment is part of a holdout, you will not see the option to add it to a layer when you create it. To learn more, read [Holdouts](/docs/home/holdouts).
To create a new layer:
 1. Follow the directions to create a new [feature change experiment](/docs/home/experimentation/feature), [funnel experiment](/docs/home/experimentation/funnel), or [Data Export experiment](/docs/home/experimentation/export).
 2. In the “Set audience” step, check the **Add experiment to layer** checkbox.
 3. Click **Create layer**.
 4. Add a **Name**.
 5. Add a **Description**.
![Creating a new layer.](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/b384da45e18a73606a24b7bb50ca33a2fa34d735423265984e3b6fabca91d895/assets/images/__toPlaywright_newIA/layers-new-layer.png)
Creating a new layer.
 1. Click **Create layer**.
 2. Add a **Reservation** amount.
 3. Continue to the “Define audience” step and finish creating the experiment.
This new layer is now available to add additional experiments to.
![](https://fern-image-hosting.s3.us-east-1.amazonaws.com/launchdarkly/openapi-logo.svg)
You can also use the REST API: [Create layer](/docs/api/layers/create-layer)
## Add experiments to existing layers
To add a new experiment to an existing layer:
 1. Follow the directions to create a new [feature change experiment](/docs/home/experimentation/feature), [funnel experiment](/docs/home/experimentation/funnel), or [Data Export experiment](/docs/home/experimentation/export).
 2. In the “Set audience” step, check the **Add experiment to layer** checkbox.
 3. Click **Select layer**.
 4. Select an existing layer from the layer menu. You can view all of the existing layers and the experiments within them at this step.
![Adding a new experiment to an existing layer.](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/8809aa55a385f3fcda5002d9aa121cd332799879bdedcaa83b7801a71f3f53b1/assets/images/__toPlaywright_newIA/layers-new-experiment.png)
Adding a new experiment to an existing layer.
 1. Add a **Reservation** amount.
 2. Continue to the “Define audience” step and finish creating the experiment.
![](https://fern-image-hosting.s3.us-east-1.amazonaws.com/launchdarkly/openapi-logo.svg)
You can also use the REST API: [Create experiment](/docs/api/experiments/create-experiment)
## Remove experiments from layers
To remove an experiment from a layer:
 1. Navigate to the **Design** tab of your experiment.
 2. Click **Edit experiment**.
 3. Navigate to the “Audience” section and click the **pencil** icon.
 4. Uncheck the **Add experiment to layer** checkbox.
 5. Click **Save**.
Before you can archive an experiment, you must remove it from any layers.
[![Logo](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/a8964c2c365fb94c416a0e31ff873d21ce0c3cbf40142e7e66cce5ae08a093af/assets/logo-dark.svg)![Logo](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/a8964c2c365fb94c416a0e31ff873d21ce0c3cbf40142e7e66cce5ae08a093af/assets/logo-dark.svg)](/docs/home)
LaunchDarkly docs
LaunchDarkly docs
LaunchDarkly docs
LaunchDarkly docs