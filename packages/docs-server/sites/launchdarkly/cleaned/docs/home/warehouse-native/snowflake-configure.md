`/`
[Product docs](/docs/home)[Guides](/docs/guides)[SDKs](/docs/sdk)[Integrations](/docs/integrations)[API docs](/docs/api)[Tutorials](/docs/tutorials)[Flagship Blog](/docs/blog)
 * Getting started
 * [Overview](/docs/home)
 * [Launch Insights](/docs/home/getting-started/launch-insights)
 * [LaunchDarkly architecture](/docs/home/getting-started/architecture)
 * [LaunchDarkly vocabulary](/docs/home/getting-started/vocabulary)
 * Feature flags and AI Configs
 * [Create flags](/docs/home/flags/create)
 * [Target with flags](/docs/home/flags/target)
 * [Flag templates](/docs/home/flags/templates)
 * [Manage flags](/docs/home/flags/manage)
 * [Code references](/docs/home/flags/code-references)
 * [AI Configs](/docs/home/ai-configs)
 * [Contexts](/docs/home/flags/contexts)
 * [Segments](/docs/home/flags/segments)
 * Releases
 * [Releasing features with LaunchDarkly](/docs/home/releases/releasing)
 * [Release policies](/docs/home/releases/release-policies)
 * [Percentage rollouts](/docs/home/releases/percentage-rollouts)
 * [Progressive rollouts](/docs/home/releases/progressive-rollouts)
 * [Guarded rollouts](/docs/home/releases/guarded-rollouts)
 * [Feature monitoring](/docs/home/releases/feature-monitoring)
 * [Release pipelines](/docs/home/releases/release-pipelines)
 * [Engineering insights](/docs/home/releases/eng-insights)
 * [Release management tools](/docs/home/releases/release-management)
 * [Applications and app versions](/docs/home/releases/apps-and-app-versions)
 * [Change history](/docs/home/releases/change-history)
 * Observability
 * [Observability](/docs/home/observability)
 * [Session replay](/docs/home/observability/session-replay)
 * [Error monitoring](/docs/home/observability/errors)
 * [Logs](/docs/home/observability/logs)
 * [Traces](/docs/home/observability/traces)
 * [LLM observability](/docs/home/observability/llm-observability)
 * [Alerts](/docs/home/observability/alerts)
 * [Dashboards](/docs/home/observability/dashboards)
 * [Search specification](/docs/home/observability/search)
 * [Observability settings](/docs/home/observability/settings)
 * [Vega](/docs/home/observability/vega)
 * Product analytics
 * [Product analytics](/docs/home/product-analytics)
 * [Setting up product analytics](/docs/home/product-analytics/setup)
 * [Using product analytics charts](/docs/home/product-analytics/chart)
 * Experimentation
 * [Experimentation](/docs/home/experimentation)
 * [Creating experiments](/docs/home/experimentation/create)
 * [Managing experiments](/docs/home/experimentation/manage)
 * [Analyzing experiments](/docs/home/experimentation/analyze)
 * [Experimentation and metric events](/docs/home/experimentation/events)
 * [Multi-armed bandits](/docs/home/multi-armed-bandits)
 * [Holdouts](/docs/home/holdouts)
 * Metrics
 * [Metrics](/docs/home/metrics)
 * [Metric groups](/docs/home/metrics/metric-groups)
 * [Autogenerated metrics](/docs/home/metrics/autogen-metrics)
 * [Metric impact](/docs/home/metrics/metric-impact)
 * [Metric events](/docs/home/metrics/metric-events)
 * Warehouse native
 * [Warehouse native Experimentation](/docs/home/warehouse-native)
 * [Warehouse native metrics](/docs/home/warehouse-native/metrics)
 * [Creating warehouse native experiments](/docs/home/warehouse-native/creating)
 * Infrastructure
 * [Connect apps and services to LaunchDarkly](/docs/home/infrastructure/apps)
 * [LaunchDarkly in China and Pakistan](/docs/home/infrastructure/china)
 * [LaunchDarkly in the European Union (EU)](/docs/home/infrastructure/eu)
 * [LaunchDarkly in federal environments](/docs/home/infrastructure/federal)
 * [Public IP list](/docs/home/infrastructure/ip-list)
 * Your account
 * [Projects](/docs/home/account/project)
 * [Views](/docs/home/account/views)
 * [Environments](/docs/home/account/environment)
 * [Tags](/docs/home/account/tags)
 * [Teams](/docs/home/account/teams)
 * [Members](/docs/home/account/members)
 * [Roles](/docs/home/account/roles)
 * [Account security](/docs/home/account/secure)
 * [Billing and usage](/docs/home/account/billing)
 * [Changelog](/docs/home/changelog)
[Sign in](/)[Sign up](https://app.launchdarkly.com/signup)
On this page
 * [Overview](#overview)
 * [Prerequisites](#prerequisites)
 * [Snowflake data requirements](#snowflake-data-requirements)
 * [Role permissions and Snowflake account URL](#role-permissions-and-snowflake-account-url)
 * [IP addresses](#ip-addresses)
 * [Network policy](#network-policy)
 * [LaunchDarkly Warehouse Native Experimentation app](#launchdarkly-warehouse-native-experimentation-app)
 * [Step 1: In LaunchDarkly, configure the Snowflake Data Export integration](#step-1-in-launchdarkly-configure-the-snowflake-data-export-integration)
 * [Step 2: In Snowflake, create the required resources](#step-2-in-snowflake-create-the-required-resources)
 * [Step 3: In LaunchDarkly, configure the Snowflake Native Experimentation integration](#step-3-in-launchdarkly-configure-the-snowflake-native-experimentation-integration)
 * [Step 4: In Snowflake, generate and run a Snowflake script](#step-4-in-snowflake-generate-and-run-a-snowflake-script)
 * [Step 5: In Snowflake, create a metric events source](#step-5-in-snowflake-create-a-metric-events-source)
 * [Next steps](#next-steps)
##### Contact us for help with configuring Snowflake native Experimentation
If you have both [Data Export](/docs/integrations/data-export) and [Experimentation](/docs/home/experimentation) enabled for your LaunchDarkly account, you should have access to Snowflake native Experimentation. If you do not have access or need help getting started, contact your LaunchDarkly representative or [start a Support ticket](https://support.launchdarkly.com/hc/en-us/requests/new).
##### Snowflake Native Experimentation works only with LaunchDarkly experiment data
You cannot run Snowflake native experiments on experiment data coming from third-party sources, or flag evaluation data from LaunchDarkly that was not generated as part of a LaunchDarkly experiment.
## Overview
This topic explains how to set up the Snowflake Warehouse Native Experimentation integration for warehouse native experiments.
Before you set up the integration, [ensure you have the proper role permissions](/docs/home/warehouse-native/snowflake-configure#role-permissions-and-snowflake-account-url) and [install the LaunchDarkly Warehouse Native Experimentation app](/docs/home/warehouse-native/snowflake-configure#launchdarkly-warehouse-native-experimentation-app) in Snowflake. You must also [prepare a metric events data source](/docs/home/warehouse-native/snowflake-configure#step-5-in-snowflake-create-a-metric-events-source) to be able to use custom events data that already exist in your Snowflake instance.
The Snowflake integration for warehouse native experiments requires the following steps:
 1. In LaunchDarkly, [configure the Snowflake Data Export integration](/docs/home/warehouse-native/snowflake-configure#step-1-in-launchdarkly-configure-the-snowflake-data-export-integration).
 2. In Snowflake, [create the required resources](/docs/home/warehouse-native/snowflake-configure#step-2-in-snowflake-create-the-required-resources).
 3. In LaunchDarkly, [configure the Snowflake Native Experimentation integration](/docs/home/warehouse-native/snowflake-configure#step-3-in-launchdarkly-configure-the-snowflake-native-experimentation-integration)
 4. In Snowflake, [generate and run a script](/docs/home/warehouse-native/snowflake-configure#step-4-in-snowflake-generate-and-run-a-snowflake-script).
 5. In Snowflake, [create a metric events source](/docs/home/warehouse-native/snowflake-configure#step-5-in-snowflake-create-a-metric-events-source).
Each of these steps is explained in detail below.
## Prerequisites
To configure the Snowflake integration, you must have the following prerequisites.
### Snowflake data requirements
Before you begin, prepare your Snowflake data to meet the [Snowflake data requirements](/docs/home/warehouse-native/snowflake-requirements) for the integration.
### Role permissions and Snowflake account URL
The role permissions and account URL requirements include:
 * You must have the `ACCOUNTADMIN` role in Snowflake.
 * You must have a [LaunchDarkly role](/docs/home/account/roles) that allows you to [add and edit integrations](/docs/home/account/roles/role-actions#integration-actions).
 * You must know your Snowflake account URL.
### IP addresses
You must add to your allow list the following outbound IP addresses:
 * `52.21.152.96/32`
 * `52.200.35.24/32`
 * `52.200.50.23/32`
 * `54.144.218.89/32`
 * `54.221.221.197/32`
 * `34.236.6.43/32`
For a full list of LaunchDarkly’s public IP addresses, read [Public IP list](/docs/home/infrastructure/ip-list).
### Network policy
If you use network policies within your Snowflake account, you will need to create or update your policy to allow traffic from LaunchDarkly:
Snowflake network policy
```
1
| CREATE NETWORK RULE LD_EXPERIMENTATION.RESULTS_<ProjKey__EnvKey>.LD_EXPERIMENTATION_NETWORK_RULE TYPE = IPV4 MODE = INGRESS VALUE_LIST = ('35.192.85.117');
---|--- 
2
| 
3
| CREATE NETWORK POLICY LD_EXPERIMENTATION_NETWORK_POLICY
4
| ALLOWED_NETWORK_RULE_LIST=(LD_EXPERIMENTATION_NETWORK_RULE);
5
| 
6
| ALTER USER WAREHOUSE_NATIVE_EXPERIMENTATION_USER_<ProjKey__EnvKey> SET NETWORK_POLICY = LD_EXPERIMENTATION_NETWORK_POLICY;
```
### LaunchDarkly Warehouse Native Experimentation app
Before you begin the configuration process, you must request access to the LaunchDarkly Warehouse Native Experimentation app in Snowflake. Confirm that `ACCOUNTADMIN` is set as your current role in Snowflake. If you need to switch roles, click **Switch Role** in the Snowflake user menu.
To request access, navigate to the [LaunchDarkly Warehouse Native Experimentation](https://app.snowflake.com/marketplace/listing/GZTSZQFHRJ4/launchdarkly-warehouse-native-experimentation) listing in the Snowflake Marketplace and click **Request**.
After we approve your request, you will receive a notification email from Snowflake that the app is available in your account. Click on the link within the email to initialize the app within Snowflake.
Alternatively, you can find the privately shared LaunchDarkly app in Snowflake by navigating to **Data Products** , **Private Sharing** , then clicking on the **Shared With You** tab:
![The LaunchDarkly app within Privately Shared Listings in Snowflake.](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/9be73ee53a0e72c16ede9984ba1ccc0b2d419f67a39e8907812a4007a8e4ae00/assets/images/__third_party/snowflake-privately-shared-listings.png)
The LaunchDarkly app within Privately Shared Listings in Snowflake.
To initialize the app:
 1. In Snowflake, click **Data Products** , then **Apps** to view the Warehouse Native Experimentation App in the “Installed Apps” section.
 2. Click **Warehouse Native Experimentation App**. A setup screen appears.
 3. Click **Select Warehouse**. A list of compute resources appears.
 4. Select the appropriate existing warehouse from your Snowflake account to install and run the app. The warehouse should suspend quickly after being used, for example, 60 seconds, to avoid over compute consumption.
## Step 1: In LaunchDarkly, configure the Snowflake Data Export integration
##### You must be using the latest version of the Snowflake Data Export integration
If you were using an earlier version of Snowflake Data Export, you must update it to the version released in January 2025.
To begin, configure the latest Snowflake Data Export integration. The Snowflake Data Export integration provides LaunchDarkly experiment exposure data to Snowflake. This data is used with your metric events data stored in Snowflake to compute experiment results.
Follow the installation instructions at [Snowflake Data Export](/docs/integrations/data-export/snowflake) to configure the Snowflake Data Export integration. You can also view a 6-minute [instructional video about Snowflake Data Export Setup](https://youtu.be/yCW0gAbVZqo).
## Step 2: In Snowflake, create the required resources
Next, create the initial warehouses and database in Snowflake:
 1. In Snowflake, navigate to the Warehouse Native Experimentation App “Setup” screen.
 2. Under step 2, click **Create service warehouses and database in Snowflake**.
This creates a new database called `LD_EXPERIMENTATION` and new warehouses called `LD_EXPERIMENTATION_WH` and `LD_SERVICE_WH` in your Snowflake account.
The `LD_EXPERIMENTATION_WH` warehouse is used for Experimentation calculations published in your Snowflake account under the `LD_EXPERIMENTATION` database. The `LD_SERVICE_WH` warehouse is used for LaunchDarkly service syncs that retrieve data to be published in the LaunchDarkly UI.
You can view a 12-minute [instructional video about Snowflake Warehouse Native Experimentation App setup](https://youtu.be/ktYJYZbBme0).
## Step 3: In LaunchDarkly, configure the Snowflake Native Experimentation integration
Now, you will configure the Snowflake Native Experimentation integration in LaunchDarkly. This integration looks similar to the Snowflake Data Export integration you configured in step 1, but is a separate integration requiring a separate setup process.
Before you configure the Snowflake Native Experimentation integration, retrieve your Snowflake account/server URL from Snowflake. You can retrieve your Snowflake account/server URL by navigating to the user menu in Snowflake, hovering on **Account** , then clicking **View account details** :
![The "Account Details" screen in Snowflake.](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/f733aef43ec4af715c6b16f9afb33a16b40694442b55605f4507afebfa09b742/assets/images/__third_party/snowflake-copy-account-url.png)
The "Account Details" screen in Snowflake.
To set up the Snowflake Native Experimentation integration:
 1. Navigate to the [**Integrations**](https://app.launchdarkly.com/settings/integrations) page and find “Snowflake Native Experimentation.”
 2. Click **Add integration**. The “[Create a destination](https://app.launchdarkly.com/settings/integrations/snowflake-experimentation/new)” panel appears.
 3. (Optional) Give the integration a human-readable **Name**.
 4. Enter the **Snowflake account URL**.
 5. Select the **Project and environment** you want to set up warehouse native Experimentation for. This generates a unique project/environment key.
 6. Copy the **Project/Environment key** that appears and save it for the [“generate a Snowflake script” step](/docs/home/warehouse-native/snowflake-configure#step-4-in-snowflake-generate-and-run-a-snowflake-script), below.
 7. After reading the Integration Terms and Conditions, check the **I have read and agree to the Integration Terms and Conditions** checkbox.
![The Snowflake Native Experimentation configuration panel in LaunchDarkly.](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/632569f1d33c56e3937c6aa9c5575364516d3d39846a0c97246fcdff39800436/assets/images/__toPlaywright_newIA/snowflake-native-exp-config.png)
The Snowflake Native Experimentation configuration panel in LaunchDarkly.
 1. Click **Save configuration**. A public key appears.
 2. Copy the **Public key** that appears and save it for the [“generate a Snowflake script” step](/docs/home/warehouse-native/snowflake-configure#step-4-in-snowflake-generate-and-run-a-snowflake-script), below.
## Step 4: In Snowflake, generate and run a Snowflake script
Next, generate and run a Snowflake script to create resources for your LaunchDarkly project/environment.
To generate and run a Snowflake script:
 1. In Snowflake, navigate to the Warehouse Native Experimentation App “Initial Setup” screen.
 2. Under step 4, enter the project/environment key you saved from the [configure the Snowflake Native Experimentation integration](/docs/home/warehouse-native/snowflake-configure#step-3-in-launchdarkly-configure-the-snowflake-native-experimentation-integration) step in the **Enter the project/environment key** field.
 3. Enter the public key you saved from the [configure the Snowflake Native Experimentation integration](/docs/home/warehouse-native/snowflake-configure#step-3-in-launchdarkly-configure-the-snowflake-native-experimentation-integration) step in the **Public key** field.
![Step 4 in the Warehouse Native Experimentation App setup process within Snowflake.](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/c56e6d7b53f96ef1e6bb62edfd2aba9db00276d7c953350df094bfb4da82a060/assets/images/__third_party/snowflake-ld-exp-app-step-4.png)
Step 4 in the Warehouse Native Experimentation App setup process within Snowflake.
 1. Click **Generate script**.
 2. Copy the generated script that appears.
 3. Navigate to **Projects** / **Worksheets**.
 4. Click the **+** “Create SQL worksheet” button to create a new worksheet.
 5. Paste the generated script to the worksheet.
 6. Click the **arrow** button to run the worksheet.
This creates all the necessary Snowflake resources and privileges for LaunchDarkly to connect to your Snowflake account.
If the script run fails or is interrupted, you can safely re-run the entire worksheet.
## Step 5: In Snowflake, create a metric events source
Finally, you must grant read permissions to your metric events data to LaunchDarkly so it can perform experimentation calculations. For guidance on setting up your metric events source, read [Snowflake data requirements](/docs/home/warehouse-native/snowflake-requirements).
To grant read permissions to your metric events data:
 1. In Snowflake, navigate to the Warehouse Native Experimentation App “Initial Setup” screen.
 2. Under step 5, select an object type of either **View** or **Table**.
 3. Click **Select Permissions**. A privileges dialog appears.
 4. Click the [custom events table or view](/docs/home/warehouse-native/snowflake-configure#prerequisites) to select as a source. Use the menu to search for a specific database, schema, and table/view.
 5. Click **Done**. You are returned to the privileges dialog.
 6. Click **Save**. You are returned to the Warehouse Native Experimentation App setup screen. The source you selected appears in the **Select a source** field.
 7. Click **Create metric events source**. A success message appears.
![Step 5 in the Warehouse Native Experimentation App setup process within.](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/07b8415cba20f61e397a5dd001139b7a0c27f3f98c87a9e2227f875e44e21a27/assets/images/__third_party/snowflake-ld-exp-app-step-5.png)
Step 5 in the Warehouse Native Experimentation App setup process within.
If you need to drop an existing metric events source e from a LaunchDarkly project/environment, you can drop it in the “Optional Developer Tools” section.
## Next steps
You can now create metrics using metric events from your Snowflake warehouse and create warehouse native experiments. To learn how, read [Creating and managing metrics](/docs/home/metrics/create-metrics) and [Creating warehouse native experiments](/docs/home/warehouse-native/creating). You can also view a 5-minute [instructional video about Snowflake Native Metrics Experiments setup](https://youtu.be/ktYJYZbBme0).
To learn how to read the results for a warehouse native experiment, read [Analyzing experiments](/docs/home/experimentation/analyze). The results page for a warehouse native experiment displays the date and time the results were last updated from Snowflake. The initial load of experiment results can take up to 60 minutes to appear, and further results updates appear within 15–30 minutes.
[![Logo](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/a8964c2c365fb94c416a0e31ff873d21ce0c3cbf40142e7e66cce5ae08a093af/assets/logo-dark.svg)![Logo](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/a8964c2c365fb94c416a0e31ff873d21ce0c3cbf40142e7e66cce5ae08a093af/assets/logo-dark.svg)](/docs/home)
LaunchDarkly docs
LaunchDarkly docs
LaunchDarkly docs
LaunchDarkly docs