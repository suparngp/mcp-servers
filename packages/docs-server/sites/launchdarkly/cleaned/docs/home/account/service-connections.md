`/`
[Product docs](/docs/home)[Guides](/docs/guides)[SDKs](/docs/sdk)[Integrations](/docs/integrations)[API docs](/docs/api)[Tutorials](/docs/tutorials)[Flagship Blog](/docs/blog)
 * Getting started
 * [Overview](/docs/home)
 * [Launch Insights](/docs/home/getting-started/launch-insights)
 * [LaunchDarkly architecture](/docs/home/getting-started/architecture)
 * [LaunchDarkly vocabulary](/docs/home/getting-started/vocabulary)
 * Feature flags and AI Configs
 * [Create flags](/docs/home/flags/create)
 * [Target with flags](/docs/home/flags/target)
 * [Flag templates](/docs/home/flags/templates)
 * [Manage flags](/docs/home/flags/manage)
 * [Code references](/docs/home/flags/code-references)
 * [AI Configs](/docs/home/ai-configs)
 * [Contexts](/docs/home/flags/contexts)
 * [Segments](/docs/home/flags/segments)
 * Releases
 * [Releasing features with LaunchDarkly](/docs/home/releases/releasing)
 * [Release policies](/docs/home/releases/release-policies)
 * [Percentage rollouts](/docs/home/releases/percentage-rollouts)
 * [Progressive rollouts](/docs/home/releases/progressive-rollouts)
 * [Guarded rollouts](/docs/home/releases/guarded-rollouts)
 * [Feature monitoring](/docs/home/releases/feature-monitoring)
 * [Release pipelines](/docs/home/releases/release-pipelines)
 * [Engineering insights](/docs/home/releases/eng-insights)
 * [Release management tools](/docs/home/releases/release-management)
 * [Applications and app versions](/docs/home/releases/apps-and-app-versions)
 * [Change history](/docs/home/releases/change-history)
 * Observability
 * [Observability](/docs/home/observability)
 * [Session replay](/docs/home/observability/session-replay)
 * [Error monitoring](/docs/home/observability/errors)
 * [Logs](/docs/home/observability/logs)
 * [Traces](/docs/home/observability/traces)
 * [LLM observability](/docs/home/observability/llm-observability)
 * [Alerts](/docs/home/observability/alerts)
 * [Dashboards](/docs/home/observability/dashboards)
 * [Search specification](/docs/home/observability/search)
 * [Observability settings](/docs/home/observability/settings)
 * [Vega](/docs/home/observability/vega)
 * Product analytics
 * [Product analytics](/docs/home/product-analytics)
 * [Setting up product analytics](/docs/home/product-analytics/setup)
 * [Using product analytics charts](/docs/home/product-analytics/chart)
 * Experimentation
 * [Experimentation](/docs/home/experimentation)
 * [Creating experiments](/docs/home/experimentation/create)
 * [Managing experiments](/docs/home/experimentation/manage)
 * [Analyzing experiments](/docs/home/experimentation/analyze)
 * [Experimentation and metric events](/docs/home/experimentation/events)
 * [Multi-armed bandits](/docs/home/multi-armed-bandits)
 * [Holdouts](/docs/home/holdouts)
 * Metrics
 * [Metrics](/docs/home/metrics)
 * [Metric groups](/docs/home/metrics/metric-groups)
 * [Autogenerated metrics](/docs/home/metrics/autogen-metrics)
 * [Metric impact](/docs/home/metrics/metric-impact)
 * [Metric events](/docs/home/metrics/metric-events)
 * Warehouse native
 * [Warehouse native Experimentation](/docs/home/warehouse-native)
 * [Warehouse native metrics](/docs/home/warehouse-native/metrics)
 * [Creating warehouse native experiments](/docs/home/warehouse-native/creating)
 * Infrastructure
 * [Connect apps and services to LaunchDarkly](/docs/home/infrastructure/apps)
 * [LaunchDarkly in China and Pakistan](/docs/home/infrastructure/china)
 * [LaunchDarkly in the European Union (EU)](/docs/home/infrastructure/eu)
 * [LaunchDarkly in federal environments](/docs/home/infrastructure/federal)
 * [Public IP list](/docs/home/infrastructure/ip-list)
 * Your account
 * [Projects](/docs/home/account/project)
 * [Views](/docs/home/account/views)
 * [Environments](/docs/home/account/environment)
 * [Tags](/docs/home/account/tags)
 * [Teams](/docs/home/account/teams)
 * [Members](/docs/home/account/members)
 * [Roles](/docs/home/account/roles)
 * [Account security](/docs/home/account/secure)
 * [Billing and usage](/docs/home/account/billing)
 * [Changelog](/docs/home/changelog)
[Sign in](/)[Sign up](https://app.launchdarkly.com/signup)
On this page
 * [Overview](#overview)
 * [About service connections](#about-service-connections)
 * [How service connections affect your bill](#how-service-connections-affect-your-bill)
 * [How we calculate service connections](#how-we-calculate-service-connections)
 * [Server-side SDKs and service connection-based billing](#server-side-sdks-and-service-connection-based-billing)
 * [Ruby and Python](#ruby-and-python)
 * [PHP and Apex](#php-and-apex)
 * [The LaunchDarkly Relay Proxy and service connection-based billing](#the-launchdarkly-relay-proxy-and-service-connection-based-billing)
 * [Relay Proxy offline mode](#relay-proxy-offline-mode)
 * [Serverless architecture and service connection-based billing](#serverless-architecture-and-service-connection-based-billing)
 * [How an SDK in polling mode affects billing](#how-an-sdk-in-polling-mode-affects-billing)
 * [How client-side and edge SDKs affect billing](#how-client-side-and-edge-sdks-affect-billing)
## Overview
This topic explains what service connections are and how LaunchDarkly uses them to calculate your bill.
## About service connections
When a LaunchDarkly server-side SDK initializes, it creates a persistent streaming connection that allows you to update flag values in near real-time. LaunchDarkly SDKs can initialize in a virtual or physical operating system (OS) instance, such as a server, virtual machine (VM), pod, or container. They can also initialize in ephemeral processes and serverless architecture.
A **service connection** is one instance of one **server-side SDK** connected to one LaunchDarkly **environment** for a time period measured in minutes.
##### We do not bill by client-side service connections
Only server-side SDKs count toward measuring service connections. Unlike server-side SDKs, client-side SDKs are measured by the number of contexts they encounter, not by the relationship between the SDK and an environment. To learn more, read [How client-side and edge SDKs affect billing](/docs/home/account/service-connections#how-client-side-and-edge-sdks-affect-billing).
Each application instance you are running across your production and pre-production environments counts toward your service connections. If you have multiple SDKs or SDK instances in the same application, each unique connection between an SDK and an environment counts as an individual connection.
##### Identify which applications are consuming Service Connections
You can use application metadata from your SDKs to see which applications are using each Service Connection. When configured, this metadata appears on the **Usage** pages in your account. To learn how to send application metadata, read [Application metadata configuration](/docs/sdk/features/app-config).
## How service connections affect your bill
LaunchDarkly offers monthly and annual billing options. We can also customize billing plans to more precisely meet your needs.
If you subscribe to a monthly or pay-as-you-go plan, you commit to a certain amount of service connections each month. You can change your monthly entitlements from the **Billing** page. To learn more, read [The Billing page](/docs/home/account/billing-page).
If you use the monthly billing option, LaunchDarkly will bill you at the beginning of each month for any usage in excess of these prepaid entitlements from the prior month. Customers on annually invoiced plans are billed annually.
To learn more about how to control billing costs, read [Identifying causes of unexpected high bills](/docs/home/account/calculating-billing#identifying-causes-of-unexpected-high-bills).
## How we calculate service connections
A LaunchDarkly service connection is measured in connection time: you accrue one service connection when one SDK is connected to one LaunchDarkly environment for one month. This is because much of the value you get from LaunchDarkly is based on the persistent connection that offers you control over your software. We calculate service connections based on the number of minutes per month you are connected to LaunchDarkly. LaunchDarkly assumes 43,800 minutes per month.
This table shows examples of how LaunchDarkly calculates total service connections:
Servers | Applications or services running | Connection time | Total service connections 
---|---|---|--- 
1 server | 1 application | x 1 month | = 1 service connection 
2 servers | 1 application each | x 1 month | = 2 service connections 
1 server | 10 applications each | x 1 month | = 10 service connections 
2 servers | 3 applications each | x 1 month | = 6 service connections 
1 server | 1 application | x 0.5 months | = 0.5 service connections 
2 servers | 1 application each | x 0.5 months | = 1 service connection 
2 servers | 1 application each | x 1 month (server 1) 
x 0.5 months (server 2) | = 1.5 service connections 
You can scale service connections up and down. Our calculation will align with the total amount of time each service connection is connected to LaunchDarkly. We do not round service connections up or down, but we may combine them: if one service connection is connected to LaunchDarkly for half of a month and another service connection is connected for half of a month, we calculate that as one service connection. We also include connections to pre-production environments as service connections for billing purposes. We support your unique architecture by focusing on the time spent connected, and calculating the service connections for you.
A good way to estimate your potential service connections is to count the total number of back-end services that use a LaunchDarkly server-side SDK and are running your application. These services might be pods, containers, virtual machines, replicas, environments, and so on. For example, how many containers are running across your EC2 instances? How many committed pods do you have running in Kubernetes monthly? You can also [contact Sales](https://launchdarkly.com/contact-sales/) to discuss your potential service connection usage in more detail. If you are an existing customer and have questions on your service connection usage, [start a Support ticket](https://support.launchdarkly.com/hc/en-us/requests/new).
Here are three examples of Amazon ECS cluster configurations and how many service connections each configuration would result in:
![Example Amazon ECS cluster configurations.](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/eea7c65781b34b965c327cccb7f881665853d0b5dd61546ba2c8ba56aedebd97/assets/images/__not_from_LD_app_UI/service-connection-example.png)
Example Amazon ECS cluster configurations.
## Server-side SDKs and service connection-based billing
Certain SDKs have special considerations regarding streaming connections to LaunchDarkly.
### Ruby and Python
Ruby and Python applications operate in web contexts that fork off processes to handle requests. In both languages, you must initialize an instance of the SDK for each process. That connection is only maintained for as long as the process exists.
### PHP and Apex
PHP’s shared-nothing architecture prevents LaunchDarkly from using the streaming API connection across requests. Because of this, LaunchDarkly’s streaming API does not connect to PHP SDKs. Instead, the SDK polls for flag values. Apex SDKs operate in a similar way. To learn more, read [How an SDK in polling mode affects billing](/docs/home/account/service-connections#how-an-sdk-in-polling-mode-affects-billing).
## The LaunchDarkly Relay Proxy and service connection-based billing
If you use the Relay Proxy, we calculate your bill based on the number of server-side SDKs connected to the Relay Proxy.
### Relay Proxy offline mode
In highly secure infrastructure, you can use the Relay Proxy in offline mode. In this circumstance, contact Sales to determine the best solution for your needs.
## Serverless architecture and service connection-based billing
In a serverless architecture, you initialize the LaunchDarkly SDK at function initialization time to call for the flag values. Assuming a service connection averages 43,800 minutes if your average invocation duration is one minute, we count each invocation as 1/43,800 of a service connection. If your average duration is one second, we count each invocation as 1/2,628,000 of a service connection.
LaunchDarkly measures service connections with one-minute granularity. If your average duration is less than one minute, we record a representative sample of execution each minute.
In order to estimate your usage for a serverless architecture, we use the average duration of your Lambda and the number of invocations per month.
Here are some representative examples of this calculation:
Average Lambda duration | Example service connection calculation 
---|--- 
Many minutes | Each invocation is billed for the time it actually runs, rounded to the nearest minute: 1/43,800 of a service connection each minute. 
Between one and two minutes | Imagine a scenario where each invocation lasts 75 seconds. LaunchDarkly will sample each Lambda invocation once, and the invocation will be billed at minimum one minute (1/43,800 of a service connection). One quarter of invocations, on average, will cross the one minute sample boundary twice and be billed for two minutes (2/43,800 service connection). The total service connections billed therefore averages out to 75 seconds per Lambda invocation. 
A few seconds | Imagine a scenario where you have a single Lambda function with an average duration of 15 seconds. If this Lambda is invoked four times within a minute, it accumulates a total runtime of 60 seconds. LaunchDarkly samples at the beginning and end of the minute, so the sampling records, on average, only one of the four Lambda invocations. Therefore, we count this as just 60 seconds of connection time or 1/43,800 of a service connection. 
Less than a second | LaunchDarkly samples the number of running Lambdas each minute, and bills 1/43,800 of a service connection for each one. If your average Lambda duration is 100ms, LaunchDarkly will record 1/600 of the actual invocations, but bill each one for 60,000ms (the one-minute minimum granularity), which averages out to the same cost. 
To determine your Lambda function’s average invocation duration, refer to your AWS console.
### How an SDK in polling mode affects billing
##### We do not recommend polling mode
We do not recommend using polling mode except in specific situations where streaming mode does not support your use case.
You can configure an SDK to poll LaunchDarkly at certain intervals to download flag values, rather than maintaining a persistent connection. Persistent SDK connections follow our best practices and allow for near-instantaneous streamed flag updates, which are more powerful because they don’t introduce a delay, but in some circumstances polling may be appropriate.
LaunchDarkly calculates 732 monthly poll requests from an SDK as one service connection. This assumes 30.5 days per month, and multiplies that by 24 hours for each day. This calculation means one polling request per hour per service connection costs the same as maintaining one persistent streaming connection per service connection. If you configure an SDK to poll more frequently, your costs will increase. Likewise, if you configure an SDK to poll less frequently, your costs will decrease, but flag updates may occur more slowly than they did before the change. To learn more about configuring your SDK, read [Configuration](/docs/sdk/features/config).
## How client-side and edge SDKs affect billing
Client-side and edge SDKs are billed by monthly active users (MAU) instead of by service connections. MAU is calculated by the number of contexts encountering your client-side and edge SDKs. A context is defined as any unique entity that encounters a feature flag. You are only billed for the context kind you use the most. We refer to this context kind as the “user” in “monthly active users (MAU).” MAU-based billing occurs every month.
[![Logo](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/a8964c2c365fb94c416a0e31ff873d21ce0c3cbf40142e7e66cce5ae08a093af/assets/logo-dark.svg)![Logo](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/a8964c2c365fb94c416a0e31ff873d21ce0c3cbf40142e7e66cce5ae08a093af/assets/logo-dark.svg)](/docs/home)
LaunchDarkly docs
LaunchDarkly docs
LaunchDarkly docs
LaunchDarkly docs