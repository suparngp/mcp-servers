`/`
[Product docs](/docs/home)[Guides](/docs/guides)[SDKs](/docs/sdk)[Integrations](/docs/integrations)[API docs](/docs/api)[Tutorials](/docs/tutorials)[Flagship Blog](/docs/blog)
 * Getting started
 * [Overview](/docs/home)
 * [Launch Insights](/docs/home/getting-started/launch-insights)
 * [LaunchDarkly architecture](/docs/home/getting-started/architecture)
 * [LaunchDarkly vocabulary](/docs/home/getting-started/vocabulary)
 * Feature flags and AI Configs
 * [Create flags](/docs/home/flags/create)
 * [Target with flags](/docs/home/flags/target)
 * [Flag templates](/docs/home/flags/templates)
 * [Manage flags](/docs/home/flags/manage)
 * [Code references](/docs/home/flags/code-references)
 * [AI Configs](/docs/home/ai-configs)
 * [Contexts](/docs/home/flags/contexts)
 * [Segments](/docs/home/flags/segments)
 * Releases
 * [Releasing features with LaunchDarkly](/docs/home/releases/releasing)
 * [Release policies](/docs/home/releases/release-policies)
 * [Percentage rollouts](/docs/home/releases/percentage-rollouts)
 * [Progressive rollouts](/docs/home/releases/progressive-rollouts)
 * [Guarded rollouts](/docs/home/releases/guarded-rollouts)
 * [Feature monitoring](/docs/home/releases/feature-monitoring)
 * [Release pipelines](/docs/home/releases/release-pipelines)
 * [Engineering insights](/docs/home/releases/eng-insights)
 * [Release management tools](/docs/home/releases/release-management)
 * [Applications and app versions](/docs/home/releases/apps-and-app-versions)
 * [Change history](/docs/home/releases/change-history)
 * Observability
 * [Observability](/docs/home/observability)
 * [Session replay](/docs/home/observability/session-replay)
 * [Error monitoring](/docs/home/observability/errors)
 * [Logs](/docs/home/observability/logs)
 * [Traces](/docs/home/observability/traces)
 * [LLM observability](/docs/home/observability/llm-observability)
 * [Alerts](/docs/home/observability/alerts)
 * [Dashboards](/docs/home/observability/dashboards)
 * [Search specification](/docs/home/observability/search)
 * [Observability settings](/docs/home/observability/settings)
 * [Vega](/docs/home/observability/vega)
 * Product analytics
 * [Product analytics](/docs/home/product-analytics)
 * [Setting up product analytics](/docs/home/product-analytics/setup)
 * [Using product analytics charts](/docs/home/product-analytics/chart)
 * Experimentation
 * [Experimentation](/docs/home/experimentation)
 * [Creating experiments](/docs/home/experimentation/create)
 * [Managing experiments](/docs/home/experimentation/manage)
 * [Analyzing experiments](/docs/home/experimentation/analyze)
 * [Experimentation and metric events](/docs/home/experimentation/events)
 * [Multi-armed bandits](/docs/home/multi-armed-bandits)
 * [Holdouts](/docs/home/holdouts)
 * Metrics
 * [Metrics](/docs/home/metrics)
 * [Metric groups](/docs/home/metrics/metric-groups)
 * [Autogenerated metrics](/docs/home/metrics/autogen-metrics)
 * [Metric impact](/docs/home/metrics/metric-impact)
 * [Metric events](/docs/home/metrics/metric-events)
 * Warehouse native
 * [Warehouse native Experimentation](/docs/home/warehouse-native)
 * [Warehouse native metrics](/docs/home/warehouse-native/metrics)
 * [Creating warehouse native experiments](/docs/home/warehouse-native/creating)
 * Infrastructure
 * [Connect apps and services to LaunchDarkly](/docs/home/infrastructure/apps)
 * [LaunchDarkly in China and Pakistan](/docs/home/infrastructure/china)
 * [LaunchDarkly in the European Union (EU)](/docs/home/infrastructure/eu)
 * [LaunchDarkly in federal environments](/docs/home/infrastructure/federal)
 * [Public IP list](/docs/home/infrastructure/ip-list)
 * Your account
 * [Projects](/docs/home/account/project)
 * [Views](/docs/home/account/views)
 * [Environments](/docs/home/account/environment)
 * [Tags](/docs/home/account/tags)
 * [Teams](/docs/home/account/teams)
 * [Members](/docs/home/account/members)
 * [Roles](/docs/home/account/roles)
 * [Account security](/docs/home/account/secure)
 * [Billing and usage](/docs/home/account/billing)
 * [Changelog](/docs/home/changelog)
[Sign in](/)[Sign up](https://app.launchdarkly.com/signup)
On this page
 * [Overview](#overview)
 * [Background: Resources, role scope, and role attributes](#background-resources-role-scope-and-role-attributes)
 * [Define role scope using attribute key](#define-role-scope-using-attribute-key)
 * [Set role attribute values](#set-role-attribute-values)
 * [Example: Consolidate existing roles using role attributes](#example-consolidate-existing-roles-using-role-attributes)
 * [Special cases for role scope](#special-cases-for-role-scope)
 * [Use views in complex policy statements](#use-views-in-complex-policy-statements)
 * [Use tags to define role scope](#use-tags-to-define-role-scope)
## Overview
This topic explains how to work with **role scope** and **role attributes**. A role scope is a [resource type](/docs/home/account/roles/role-resources) by which a role may be parameterized. When you define a role, you can optionally specify a role scope and the parameter, which is called a role attribute.
If multiple members or teams should have similar permissions, but work with different resources, then defining role scope using an attribute key lets you reuse the same role for many members or teams. This means the total number of roles in your account is much smaller, and much easier to maintain.
This topic includes:
 * [Background information on resources, role scope, and role attributes](/docs/home/account/roles/role-scope#background-resources-role-scope-and-role-attributes)
 * [How to define role scope using a role attribute](/docs/home/account/roles/role-scope#define-role-scope-using-attribute-key)
 * [How to set a role attribute value when you assign a role to a member or team](/docs/home/account/roles/role-scope#set-role-attribute-values)
 * [Example: Consolidate existing roles using role attributes](/docs/home/account/roles/role-scope#example-consolidate-existing-roles-using-role-attributes)
## Background: Resources, role scope, and role attributes
When you create a new role, you can specify **resources** that the role can or cannot access in the following ways:
Types of resources a role can access | Example 
---|--- 
All instances of the resource. | All projects 
All instances of the resource with a few exceptions. | All projects except “Project A” 
Only specific instances of the resource, where the instances are named explicitly in the role’s policy statements. | ”Project A,” “Project B,” and “Project C” 
Only specific instances of the resource, where the instances have a particular tag. To learn more, read [Tags](/docs/home/account/roles/role-concepts#tags). | All projects with the “development” tag. 
Only specific instances of the resource, where the instance properties match a particular value. | All environments that are marked as [critical](/docs/home/account/environment#critical-environments). To learn more, read [Property-based selectors](/docs/home/account/roles/role-concepts#property-based-selectors). 
Only specific instances of the resource, where the instances are specified based on a parameter. This parameter is called a [**role attribute**](/docs/home/getting-started/vocabulary#role-attribute). 
In this option, you define the role attribute when you create the role, and you specify its value when you assign the role to an account member or team. 
For example, you can define the role attribute as “developerProjectKey,” set the value of the role attribute to “Project A” when you assign the role to member A, and then set the value of the role attribute to “Project B” when you assign the role to member B. 
This option is discussed in more detail in the sections below: [Define role scope using attribute key](/docs/home/account/roles/role-scope#define-role-scope-using-attribute-key), [Set role attribute values](/docs/home/account/roles/role-scope#set-role-attribute-values). | ”developerProjectKey” 
Role attributes are defined and assigned within LaunchDarkly. They cannot be passed through SAML assertions for single sign-on. For SAML-based SSO, LaunchDarkly supports mapping only the `role`, `customRole`, and `teamKey` attributes.
## Define role scope using attribute key
To define role scope using a role attribute when you [create a new role policy](/docs/home/account/roles/role-create):
 1. From the “New role” page, click **Advanced** to open the “Scope using attribute key” section:
![The "Advanced" section of the "New role" page.](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/50f7a4e34fffd0d089210e4fe8172dfc1e740ffd285b0a8dc039eb1ed0348e3f/assets/images/__toPlaywright_newIA/custom-roles-role-scope-section.png)
The "Advanced" section of the "New role" page.
 1. Click **+ Add resource type**.
 2. Select a resource type from the menu, for example, “Project.”
 3. At the prompt, enter a key for the [role attribute](/docs/home/getting-started/vocabulary#role-attribute):
![The "developerProjectKey" defined as a role attribute.](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/bf8e83eb4cbbafdb84f7c466dc4f3bf3452931f33c059476c96c8c0326705b1b/assets/images/__toPlaywright_newIA/custom-roles-role-scope-role-attr-filled-in.png)
The "developerProjectKey" defined as a role attribute.
 1. The role attribute is now a parameter for this role.
 2. In the role’s policy statements, use the role attribute key any place that you would normally use a specific instance of that resource. For example, if you selected the “Project” resource type in step 3, then you can use the role attribute to allow access only to projects:
![The "developerProjectKey" used in a policy statement.](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/f763a412da546acada1e40970c4bf8061d2415f459938a5cc1d16339688f04ac/assets/images/__toPlaywright_newIA/custom-roles-role-attr-in-policy-statement.png)
The "developerProjectKey" used in a policy statement.
 1. Click **Create role**.
You set the value of the role attribute when you assign this role to a member or team. In this example, you would enter values for one or more project keys when you assign this role. To learn how, read [Set role attribute values](/docs/home/account/roles/role-scope#set-role-attribute-values), below.
To learn more about creating roles, read [Creating roles and policies](/docs/home/account/roles/role-create).
## Set role attribute values
You set a role attribute value, or specific resource, when you assign a role to an account member or team. In the “Assign access” dialog, enter the values for the role attribute in the **Resources** field:
![The "Assign access" dialog, with a role attribute and resource specified for the custom role being assigned.](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/517a06a22c6a2e4997d55a76258f80f33a4b70fd34648d3e20e45c34f444c00a/assets/images/__toPlaywright_newIA/assign-access-member-role-attr.png)
The "Assign access" dialog, with a role attribute and resource specified for the custom role being assigned.
You can enter one or more values when you set the role attribute. For example, you can set the value of the role attribute to `projectA` (the project key of “Project A”) when you assign the role to one member, and then set the value of the role attribute to `projectB` and `projectC` (the project keys of “Project B” and “Project C”) when you assign the role to a different member.
![](https://fern-image-hosting.s3.us-east-1.amazonaws.com/launchdarkly/openapi-logo.svg)
You can also use the REST API: [Custom roles](/docs/api/custom-roles).
In the REST API, use the syntax `${roleAttribute/<attributeKey>}`, for example `${roleAttribute/developerProjectKey}`, in your policy statements.
To learn more, read [Assigning roles to members](/docs/home/account/roles/manage-role-assign) and [Assigning roles to teams](/docs/home/account/roles/manage-role-team).
## Example: Consolidate existing roles using role attributes
Without role scope, if you have two members who require a similar set of permissions, but require access to different flags, you need to define two roles, one for each member:
Role with access to flag-1Role with access to flag-2
```
1
| {
---|--- 
2
| "effect": "allow",
3
| "actions": [ "*" ],
4
| "resources": [
5
| "proj/example-project:env/*:flag/flag-1"
6
| ]
7
| }
```
Given additional flags, or additional projects, the number of roles required increases rapidly, and quickly becomes unmanageable.
You can use role scope to define just one role. Then, you can assign the same role to both members.
Here’s the previous set of roles, rewritten to use the `flagKey` role attribute:
Role with access to a flag defined by role attribute
```
1
| {
---|--- 
2
| "effect": "allow",
3
| "actions": [ "*" ],
4
| "resources": [
5
| "proj/example-project:env/*:flag/${roleAttribute/flagKey}"
6
| ]
7
| }
```
When you assign this role to each member, you set the value of `flagKey` to the specific flag that that member should have access to.
You can use multiple role attributes in a given role. For example, if you also wanted to parameterize the project, you could use a separate role attribute for that:
Role with access to a project and flag defined by role attribute
```
1
| {
---|--- 
2
| "effect": "allow",
3
| "actions": [ "*" ],
4
| "resources": [
5
| "proj/${roleAttribute/projectKey}:env/*:flag/${roleAttribute/flagKey}"
6
| ]
7
| }
```
In this case, LaunchDarkly prompts you to set the value of both role attributes when you assign the role to a member.
For additional examples of roles defined using role attributes, read:
 * [Example: Grant all actions to just one flag while showing only one project](/docs/home/account/roles/example-roles#example-grant-all-actions-to-just-one-flag-while-showing-only-one-project)
 * [Example: Restrict actions within production environments](/docs/home/account/roles/example-roles#example-restrict-actions-within-production-environments)
 * [Example: Allow access to flags, metrics, and segments in one project](/docs/home/account/roles/example-roles#example-allow-access-to-flags-metrics-and-segments-in-one-project)
## Special cases for role scope
For some resources, you must use a combination of the [advanced editor](/docs/home/account/roles/advanced-editor) and the REST API to define a policy that uses role scope or to set role attribute values.
### Use views in complex policy statements
You can [define a role scope](/docs/home/account/roles/role-scope#define-role-scope-using-attribute-key) for a [view](/docs/home/account/views) when you [create a role](/docs/home/account/roles/role-create).
However, the [policy builder](/docs/home/account/roles/role-create#create-policies-for-roles) only accepts the role attribute if the policy statement’s primary resource scope is a view. Here’s an example policy that uses the `viewKey` role attribute with in a statement with a “view” resource scope:
![The policy builder, with a statement allowing access to views based on the "viewKey" role attribute.](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/8f6e35a258d0d4a4da8955e23631b7f8fdde5cdef5e6930e6e3cf755e857c4c4/assets/images/__toPlaywright_newIA/custom-roles-view-role-attribute.png)
The policy builder, with a statement allowing access to views based on the "viewKey" role attribute.
This statement allows access to all actions on the views specified by `viewKey` in the project specified by `projectKey`.
In the advanced editor, the statement looks like this:
Policy allowing access to views based on 'viewKey' role attribute
```
1
| [
---|--- 
2
| {
3
| "effect": "allow",
4
| "actions": ["*"],
5
| "resources": [
6
| "proj/${roleAttribute/projectKey}:view/${roleAttribute/viewKey}"
7
| ]
8
| }
9
| ]
```
To create a policy statement that uses a role attribute for a view in a different scope, you must use the [advanced editor](/docs/home/account/roles/advanced-editor).
Here’s an example that uses a role attribute for a view in a flag scope:
Policy allowing access to flags based on 'viewKey' role attribute
```
1
| [
---|--- 
2
| {
3
| "effect": "allow",
4
| "actions": ["*"],
5
| "resources": [
6
| "proj/${roleAttribute/projectKey}:env/*:flag/*;view:${roleAttribute/viewKey}"
7
| ]
8
| }
9
| ]
```
This statement allows access to all actions on flags in the project specified by `projectKey`, in all environments, provided the flags are linked to the view specified by `viewKey`. This statement can only be created in the advanced editor.
If the `viewKey` role attribute is not otherwise used in the policy, then you will not be prompted to [set its value](/docs/home/account/roles/role-scope#set-role-attribute-values) when you assign this role to a member or team using the LaunchDarkly UI. Instead, you’ll need to use the [Modify an account member](/docs/api/account-members/patch-member) REST API to set the value of the role attribute.
Here’s an example request body that gives the `viewKey` role attribute a value of `exampleView` for a member:
Modify an account member to set a role attribute value
```
1
| curl -X PATCH https://app.launchdarkly.com/api/v2/members/<id> \
---|--- 
2
| -H "Authorization: <apiKey>" \
3
| -H "Content-Type: application/json" \
4
| -d '[
5
| {
6
| "op": "replace",
7
| "path": "/roleAttributes/viewKey",
8
| "value": ["exampleView"]
9
| }
10
| ]'
```
### Use tags to define role scope
You cannot [define a role scope](/docs/home/account/roles/role-scope#define-role-scope-using-attribute-key) in the [policy builder](/docs/home/account/roles/role-create#create-policies-for-roles) or [set role attribute values](/docs/home/account/roles/role-scope#set-role-attribute-values) using the LaunchDarkly UI.
If you want to use tags when you define a role scope, you must:
 1. Use the [advanced editor](/docs/home/account/roles/advanced-editor) to specify the role attribute.
Here’s an example, using a `tagName` role attribute:
Role with access based on a tag, defined by role attribute
```
1
| {
---|--- 
2
| "effect": "allow",
3
| "actions": [ "*" ],
4
| "resources": [
5
| "proj/example-project:env/*:flag/*;${roleAttribute/tagName}"
6
| ]
7
| }
```
 2. Assign the role to a member or team, either [in the LaunchDarkly UI](/docs/home/account/roles/manage-role-assignments) or with the [Modify an account member](/docs/api/account-members/patch-member) REST API.
 3. Use the [Modify an account member](/docs/api/account-members/patch-member) REST API to set the value of the role attribute.
Here’s an example request body that gives the `tagName` role attribute a value of `exampleTag` for a member:
Modify an account member to set a role attribute value
```
1
| curl -X PATCH https://app.launchdarkly.com/api/v2/members/<id> \
---|--- 
2
| -H "Authorization: <apiKey>" \
3
| -H "Content-Type: application/json" \
4
| -d '[
5
| {
6
| "op": "replace",
7
| "path": "/roleAttributes/tagName",
8
| "value": ["exampleTag"]
9
| }
10
| ]'
```
[![Logo](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/a8964c2c365fb94c416a0e31ff873d21ce0c3cbf40142e7e66cce5ae08a093af/assets/logo-dark.svg)![Logo](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/a8964c2c365fb94c416a0e31ff873d21ce0c3cbf40142e7e66cce5ae08a093af/assets/logo-dark.svg)](/docs/home)
LaunchDarkly docs
LaunchDarkly docs
LaunchDarkly docs
LaunchDarkly docs