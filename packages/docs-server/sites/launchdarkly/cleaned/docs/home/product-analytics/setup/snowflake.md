`/`
[Product docs](/docs/home)[Guides](/docs/guides)[SDKs](/docs/sdk)[Integrations](/docs/integrations)[API docs](/docs/api)[Tutorials](/docs/tutorials)[Flagship Blog](/docs/blog)
 * Getting started
 * [Overview](/docs/home)
 * [Launch Insights](/docs/home/getting-started/launch-insights)
 * [LaunchDarkly architecture](/docs/home/getting-started/architecture)
 * [LaunchDarkly vocabulary](/docs/home/getting-started/vocabulary)
 * Feature flags and AI Configs
 * [Create flags](/docs/home/flags/create)
 * [Target with flags](/docs/home/flags/target)
 * [Flag templates](/docs/home/flags/templates)
 * [Manage flags](/docs/home/flags/manage)
 * [Code references](/docs/home/flags/code-references)
 * [AI Configs](/docs/home/ai-configs)
 * [Contexts](/docs/home/flags/contexts)
 * [Segments](/docs/home/flags/segments)
 * Releases
 * [Releasing features with LaunchDarkly](/docs/home/releases/releasing)
 * [Release policies](/docs/home/releases/release-policies)
 * [Percentage rollouts](/docs/home/releases/percentage-rollouts)
 * [Progressive rollouts](/docs/home/releases/progressive-rollouts)
 * [Guarded rollouts](/docs/home/releases/guarded-rollouts)
 * [Feature monitoring](/docs/home/releases/feature-monitoring)
 * [Release pipelines](/docs/home/releases/release-pipelines)
 * [Engineering insights](/docs/home/releases/eng-insights)
 * [Release management tools](/docs/home/releases/release-management)
 * [Applications and app versions](/docs/home/releases/apps-and-app-versions)
 * [Change history](/docs/home/releases/change-history)
 * Observability
 * [Observability](/docs/home/observability)
 * [Session replay](/docs/home/observability/session-replay)
 * [Error monitoring](/docs/home/observability/errors)
 * [Logs](/docs/home/observability/logs)
 * [Traces](/docs/home/observability/traces)
 * [LLM observability](/docs/home/observability/llm-observability)
 * [Alerts](/docs/home/observability/alerts)
 * [Dashboards](/docs/home/observability/dashboards)
 * [Search specification](/docs/home/observability/search)
 * [Observability settings](/docs/home/observability/settings)
 * [Vega](/docs/home/observability/vega)
 * Product analytics
 * [Product analytics](/docs/home/product-analytics)
 * [Setting up product analytics](/docs/home/product-analytics/setup)
 * [Using product analytics charts](/docs/home/product-analytics/chart)
 * Experimentation
 * [Experimentation](/docs/home/experimentation)
 * [Creating experiments](/docs/home/experimentation/create)
 * [Managing experiments](/docs/home/experimentation/manage)
 * [Analyzing experiments](/docs/home/experimentation/analyze)
 * [Experimentation and metric events](/docs/home/experimentation/events)
 * [Multi-armed bandits](/docs/home/multi-armed-bandits)
 * [Holdouts](/docs/home/holdouts)
 * Metrics
 * [Metrics](/docs/home/metrics)
 * [Metric groups](/docs/home/metrics/metric-groups)
 * [Autogenerated metrics](/docs/home/metrics/autogen-metrics)
 * [Metric impact](/docs/home/metrics/metric-impact)
 * [Metric events](/docs/home/metrics/metric-events)
 * Warehouse native
 * [Warehouse native Experimentation](/docs/home/warehouse-native)
 * [Warehouse native metrics](/docs/home/warehouse-native/metrics)
 * [Creating warehouse native experiments](/docs/home/warehouse-native/creating)
 * Infrastructure
 * [Connect apps and services to LaunchDarkly](/docs/home/infrastructure/apps)
 * [LaunchDarkly in China and Pakistan](/docs/home/infrastructure/china)
 * [LaunchDarkly in the European Union (EU)](/docs/home/infrastructure/eu)
 * [LaunchDarkly in federal environments](/docs/home/infrastructure/federal)
 * [Public IP list](/docs/home/infrastructure/ip-list)
 * Your account
 * [Projects](/docs/home/account/project)
 * [Views](/docs/home/account/views)
 * [Environments](/docs/home/account/environment)
 * [Tags](/docs/home/account/tags)
 * [Teams](/docs/home/account/teams)
 * [Members](/docs/home/account/members)
 * [Roles](/docs/home/account/roles)
 * [Account security](/docs/home/account/secure)
 * [Billing and usage](/docs/home/account/billing)
 * [Changelog](/docs/home/changelog)
[Sign in](/)[Sign up](https://app.launchdarkly.com/signup)
On this page
 * [Overview](#overview)
 * [Prerequisites](#prerequisites)
 * [Set up product analytics with Snowflake](#set-up-product-analytics-with-snowflake)
 * [Using the Snowflake Data Export destination](#using-the-snowflake-data-export-destination)
 * [Using a third-party customer data platform (CDP) to import your own events](#using-a-third-party-customer-data-platform-cdp-to-import-your-own-events)
## Overview
This topic explains how to set up LaunchDarkly product analytics in Snowflake.
To set up product analytics, you must first connect LaunchDarkly’s Snowflake Native Product Analytics integration to import event and other data to LaunchDarkly. To do this, you provide some information to connect your Snowflake account to LaunchDarkly.
## Prerequisites
Before completing this procedure, you must have the following prerequisites:
 * You should be tracking event data in your application
 * An active Snowflake account with the `SECURITYADMIN` and `SYSADMIN` privileges
 * Access to Snowflake
## Set up product analytics with Snowflake
There are two ways to set up product analytics with Snowflake:
 * Using the Snowflake Data Export destination
 * Using a third-party customer data platform (CDP) to import your own events
###### Click to expand Using the Snowflake Data Export destination
### Using the Snowflake Data Export destination
To use LaunchDarkly product analytics, you must first enable LaunchDarkly’s Snowflake Native Product Analytics integration. Here’s how:
 1. Click **Product analytics** in the left navigation, or find it by searching “Snowflake product analytics” on the **Integrations** page.
 2. Click **Configure**. The “Configure Snowflake Product Analytics” menu opens.
 3. Click **Manage integration**. The “Configure Snowflake Native Product Analytics” menu opens.
 4. Choose **Using LaunchDarkly SDK** and click **Next step**. If you have not yet configured Data Export, you will be prompted to do so. Then, the “Configure Snowflake Native Product Analytics” menu opens.
![The Configure Snowflake Product Analytics menu.](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/8fb03a6f7144033805636eb7bfca82a63d95083faa26e32155f0776d3f4ac735/assets/images/__LD_UI_no_test/product-analytics-connect-snowflake.png)
The Configure Snowflake Product Analytics menu.
 1. Enter a human-readable **Name**.
 2. Enter your **Snowflake account URL**. You can find this in Snowflake’s “Account” menu, in the “Account/Server URL” field.
After you complete the steps above, LaunchDarkly generates a SQL script to connect your Snowflake account to LaunchDarkly. In the “Configure Snowflake Native Product Analytics” menu:
 1. Copy the script and paste it into a new worksheet in your Snowflake account.
 2. Run the script in Snowflake. When it completes, return to LaunchDarkly.
 3. Read the “Integration Terms and Conditions,” and then select the checkbox to acknowledge them.
 4. Click **Save configuration**. A confirmation message appears at the top of the screen when configuration completes successfully.
###### Click to expand Using a third-party customer data platform (CDP) to import your own events
### Using a third-party customer data platform (CDP) to import your own events
To use LaunchDarkly product analytics, you can also import your own events from a third-party customer data platform (CDP). Here’s how:
 1. Click **Product analytics** in the left navigation, or find it by searching “Snowflake product analytics” on the Integrations page.
 2. Click **Configure**. The “Configure Snowflake Product Analytics” menu opens.
 3. Click **Manage integration**. The “Configure Snowflake Native Product Analytics” menu opens.
 4. Choose **Use CDP/Custom SDK** and click **Next step**. The “Configure Snowflake Warehouse” menu opens.
 5. Enter a human-readable **Name**.
 6. Enter your **Snowflake account URL**. You can find this in Snowflake’s “Account” menu, in the “Account/Server URL” field. This generates a `public_key` and `project_env_key`. Save these values for use in the script below.
![The Configure Snowflake Product Analytics menu.](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/8fb03a6f7144033805636eb7bfca82a63d95083faa26e32155f0776d3f4ac735/assets/images/__LD_UI_no_test/product-analytics-connect-snowflake.png)
The Configure Snowflake Product Analytics menu.
Configure your custom SDK or CDP to send events to a table in your Snowflake project. These events must be transformed to match LaunchDarkly’s required schema in an `ALLEVENTS` table or a view. Here is the structure to use:
Column name | Type | Description 
---|---|--- 
`device_id` | STRING | Unique identifier for the device 
`user_id` | STRING | Unique identifier for the user 
`event_name` | STRING | Name of tracked event 
`event_id` | STRING | Unique identifier for the event 
`server_ts` | TIMESTAMP | Server-side timestamp of when the event was received 
`device_ts` | TIMESTAMP | Client-side timestamp of when the event occurred 
`properties` | JSON | Event-specific properties of a JSON object 
`user_properties` | JSON | User-specific properties of a JSON object 
Now, use the code below to configure your CDP or custom SDK to connect to LaunchDarkly product analytics.
Configuration script
```
1
| -- Setting up the warehouse, database, schema, roles, user and such.
---|--- 
2
| -- the events table schema we expect
3
| 
4
| begin;
5
| -- Enter project environment key
6
| set project_env_key = 'PROJECT_ENV_KEY_GENERATED_IN_PROCEDURE_ABOVE';
7
| -- ===== System Setup Variables (Do not modify) =====
8
| set warehouse_name = 'LD_PRODUCT_ANALYTICS_WH'; -- Uppercase required
9
| set database_name = 'LD_PRODUCT_ANALYTICS'; -- Uppercase required
10
| set role_name = 'LD_PRODUCT_ANALYTICS_ROLE'; -- Uppercase required
11
| set schema_name = 'PRODUCT_ANALYTICS_'|| $project_env_key;
12
| set user_name = 'LD_PRODUCT_ANALYTICS_USER_'|| $project_env_key;
13
| -- ===== Warehouse Setup =====
14
| use role sysadmin;
15
| create warehouse if not exists identifier($warehouse_name)
16
| warehouse_size = medium
17
| warehouse_type = standard
18
| auto_suspend = 60
19
| auto_resume = true
20
| initially_suspended = true;
21
| -- ===== Database Setup =====
22
| create database if not exists identifier($database_name);
23
| -- ===== Role Setup =====
24
| use role securityadmin;
25
| create role if not exists identifier($role_name);
26
| grant role identifier($role_name) to role SYSADMIN;
27
| -- ===== Permissions: Warehouse & Database =====
28
| use role sysadmin;
29
| grant usage, operate
30
| on warehouse identifier($warehouse_name)
31
| to role identifier($role_name);
32
| grant monitor, usage
33
| on database identifier($database_name)
34
| to role identifier($role_name);
35
| grant create schema
36
| on database identifier($database_name)
37
| to role identifier($role_name);
38
| grant usage
39
| on all schemas in database identifier($database_name)
40
| to role identifier($role_name);
41
| grant usage
42
| on future schemas in database identifier($database_name)
43
| to role identifier($role_name);
44
| grant create table
45
| on all schemas in database identifier($database_name)
46
| to role identifier($role_name);
47
| grant create table
48
| on future schemas in database identifier($database_name)
49
| to role identifier($role_name);
50
| grant select
51
| on all tables in database identifier($database_name)
52
| to role identifier($role_name);
53
| grant select
54
| on future tables in database identifier($database_name)
55
| to role identifier($role_name);
56
| grant select
57
| on all views in database identifier($database_name)
58
| to role identifier($role_name);
59
| grant select
60
| on future views in database identifier($database_name)
61
| to role identifier($role_name);
62
| -- ===== Schema Setup =====
63
| use database identifier($database_name);
64
| create schema if not exists identifier($schema_name);
65
| grant usage, create table, create view
66
| on schema identifier($schema_name)
67
| to role identifier($role_name);
68
| grant create procedure, create task, create stream, create function
69
| on schema identifier($schema_name)
70
| to role identifier($role_name);
71
| grant operate
72
| on future tasks in schema identifier($schema_name)
73
| to role identifier($role_name);
74
| grant execute task on account
75
| to role identifier($role_name);
76
| -- ===== User Setup =====
77
| use role securityadmin;
78
| create user if not exists identifier($user_name);
79
| alter user identifier($user_name)
80
| set default_role = $role_name,
81
| default_warehouse = $warehouse_name,
82
| QUOTED_IDENTIFIERS_IGNORE_CASE = false;
83
| grant role identifier($role_name)
84
| to user identifier($user_name);
85
| -- ===== Set Public Key =====
86
| alter user identifier($user_name)
87
| set rsa_public_key=$
88
| PASTE_PUBLIC_KEY_GENERATED_IN_PROCEDURE_ABOVE
89
| $;
90
| commit;
```
Use the dataset you created in the previous procedure as the destination for the `ALLEVENTS` table.
After you create the `ALLEVENTS` table, run the following commands to enable change tracking:
```
1
| -- ==== Run this only after creating the ALLEVENTS table in the schema ==== --
---|--- 
2
| -- This assumes the ALLEVENTS table already exists --
3
| -- ==== Change role to LD_PRODUCT_ANALYTICS_ROLE to run this ==== --
4
| 
5
| use role identifier($role_name);
6
| alter table ALLEVENTS set change_tracking = true;
```
If you have created an `ALLEVENTS` view instead of a table, then run the following commands to enable change tracking:
```
1
| -- ==== Run this only after creating the ALLEVENTS view in the schema ==== --
---|--- 
2
| -- This assumes the ALLEVENTS view already exists --
3
| -- ==== Change role to LD_PRODUCT_ANALYTICS_ROLE to run this ==== --
4
| 
5
| use role identifier($role_name);
6
| alter view ALLEVENTS set change_tracking = true;
```
In the “Configure Snowflake warehouse” menu:
 1. Return to the “Configure Snowflake Native Product Analytics” in LaunchDarkly.
 2. Read the “Integration Terms and Conditions,” and then select the checkbox to acknowledge them.
 3. Click **Save configuration**. A confirmation message appears at the top of the screen when configuration completes successfully.
After you complete the setup steps, the landing page on the **Product analytics** screen in LaunchDarkly will update to show a “Waiting for data…” status. Events and other information will begin to populate the screen within 15 minutes. Events from the last 30 days will be available within an hour. Load time varies based on the volume of data you’re importing from Snowflake.
To verify that data is loading, refresh the page. The **Dashboards** tab will not have any information in it until you create a dashboard, but you can confirm that setup was successful by checking the **Events** and **Attributes** tabs. After the import completes, both of those tabs display pre-populated data.
After the event data appears, you will be able to access different aspects of the product analytics UI.
To learn more, read [Dashboards](/docs/home/product-analytics/chart/dashboards), [Events](/docs/home/product-analytics/chart/events), [Cohorts](/docs/home/product-analytics/chart/cohorts), and [Attributes](/docs/home/product-analytics/chart/attributes).
[![Logo](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/a8964c2c365fb94c416a0e31ff873d21ce0c3cbf40142e7e66cce5ae08a093af/assets/logo-dark.svg)![Logo](https://files.buildwithfern.com/https://launchdarkly.docs.buildwithfern.com/docs/a8964c2c365fb94c416a0e31ff873d21ce0c3cbf40142e7e66cce5ae08a093af/assets/logo-dark.svg)](/docs/home)
LaunchDarkly docs
LaunchDarkly docs
LaunchDarkly docs
LaunchDarkly docs